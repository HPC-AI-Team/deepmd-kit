[WARN] xos LPG 2003 - Failed to map HugeTLBfs for data/bss: Layout problem with segments 0 and 1:
	Segments would overlap.
WARNING:tensorflow:From /home/hp200266/u01036/gzq/fj_software/tensorflow/TensorFlow-2.2.0/lib/python3.8/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
Instructions for updating:
non-resource variables are not supported in the long term
profile : ture
WARNING:tensorflow:From /home/hp200266/u01036/gzq/fj_software/tensorflow/TensorFlow-2.2.0/lib/python3.8/site-packages/tensorflow/python/profiler/internal/flops_registry.py:142: tensor_shape_from_node_def_name (from tensorflow.python.framework.graph_util_impl) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.compat.v1.graph_util.tensor_shape_from_node_def_name`
DEEPMD WARNING From /home/hp200266/u01036/gzq/fj_software/tensorflow/TensorFlow-2.2.0/lib/python3.8/site-packages/tensorflow/python/profiler/internal/flops_registry.py:142: tensor_shape_from_node_def_name (from tensorflow.python.framework.graph_util_impl) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.compat.v1.graph_util.tensor_shape_from_node_def_name`
73 ops no flops stats due to incomplete shapes.
Parsing Inputs...
dp model type : ener
DEEPMD INFO    # ---------------output of dp test---------------
DEEPMD INFO    # testing system : ../data/data_3
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
generating trace file.

******************************************************
Timeline file is written to ./profiler.json_0.
Open a Chrome browser, enter URL chrome://tracing and load the timeline file.
******************************************************
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.

=========================Options=============================
-max_depth                  10
-min_bytes                  0
-min_peak_bytes             0
-min_residual_bytes         0
-min_output_bytes           0
-min_micros                 0
-min_accelerator_micros     0
-min_cpu_micros             0
-min_params                 0
-min_float_ops              0
-min_occurrence             0
-step                       -1
-order_by                   micros
-account_type_regexes       .*
-start_name_regexes         .*
-trim_name_regexes
-show_name_regexes          .*
-hide_name_regexes
-account_displayed_op_only  false
-select                     bytes,float_ops,micros,occurrence
-output                     stdout:

==================Model Analysis Report======================
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.

Doc:
op: The nodes are operation kernel type, such as MatMul, Conv2D. Graph nodes belonging to the same type are aggregated together.
requested bytes: The memory requested by the operation, accumulatively.
flops: Number of float operations. Note: Please read the implementation for the math behind it.
total execution time: Sum of accelerator execution time and cpu execution time.
cpu execution time: The time from the start to the end of the operation. It's the sum of actual cpu run time plus the time that it spends waiting if part of computation is launched asynchronously.
accelerator execution time: Time spent executing on the accelerator. This is normally measured by the actual hardware library.
occurrence: The number of times it occurs

Profile:
node name | requested bytes | total execution time | accelerator execution time | cpu execution time | # float_ops | op occurrence (run|defined)
TabulateFusionGrad              1.06MB (100.00%, 1.24%),       8.87ms (100.00%, 20.64%),             0us (0.00%, 0.00%),       8.87ms (100.00%, 20.64%),   0 float_ops (100.00%, 0.00%),        4|4
ProdEnvMatA                      4.13MB (98.76%, 4.82%),        7.66ms (79.36%, 17.82%),             0us (0.00%, 0.00%),        7.66ms (79.36%, 17.82%),   0 float_ops (100.00%, 0.00%),        1|1
MatmulNt                         4.25MB (93.94%, 4.96%),        6.49ms (61.54%, 15.10%),             0us (0.00%, 0.00%),        6.49ms (61.54%, 15.10%),   0 float_ops (100.00%, 0.00%),        8|8
GemmLayer                        1.11MB (88.98%, 1.29%),        5.27ms (46.44%, 12.26%),             0us (0.00%, 0.00%),        5.27ms (46.44%, 12.26%),   0 float_ops (100.00%, 0.00%),        8|8
TabulateFusion                   1.57MB (87.69%, 1.83%),         3.96ms (34.18%, 9.22%),             0us (0.00%, 0.00%),         3.96ms (34.18%, 9.22%),   0 float_ops (100.00%, 0.00%),        4|4
BatchMatMulV2                    4.03MB (85.86%, 4.70%),         2.16ms (24.96%, 5.03%),             0us (0.00%, 0.00%),         2.16ms (24.96%, 5.03%), 106.95m float_ops (100.00%, 98.52%),        6|6
ProdVirialSeA                   13.90KB (81.15%, 0.02%),         1.70ms (19.93%, 3.94%),             0us (0.00%, 0.00%),         1.70ms (19.93%, 3.94%),     0 float_ops (1.48%, 0.00%),        1|1
Pad                            11.32MB (81.14%, 13.20%),         1.32ms (15.98%, 3.08%),             0us (0.00%, 0.00%),         1.32ms (15.98%, 3.08%),     0 float_ops (1.48%, 0.00%),      14|14
Slice                            8.30MB (67.94%, 9.68%),         1.31ms (12.91%, 3.04%),             0us (0.00%, 0.00%),         1.31ms (12.91%, 3.04%),     0 float_ops (1.48%, 0.00%),      18|18
ProdForceSeA                     4.61KB (58.25%, 0.01%),           744us (9.87%, 1.73%),             0us (0.00%, 0.00%),           744us (9.87%, 1.73%),     0 float_ops (1.48%, 0.00%),        1|1
AddN                                  0B (0.00%, 0.00%),           659us (8.14%, 1.53%),             0us (0.00%, 0.00%),           659us (8.14%, 1.53%), 809.47k float_ops (1.48%, 0.75%),      14|14

======================End of Report==========================
DEEPMD INFO    # number of test data : 1
DEEPMD INFO    Energy RMSE        : 7.471435e-02 eV
DEEPMD INFO    Energy RMSE/Natoms : 3.891372e-04 eV
DEEPMD INFO    Force  RMSE        : 5.845047e-02 eV/A
DEEPMD INFO    Virial RMSE        : 6.561504e+00 eV
DEEPMD INFO    Virial RMSE/Natoms : 3.417450e-02 eV
DEEPMD INFO    # -----------------------------------------------
++ python /home/hp200266/u01036/gzq/deepmd-kit/_skbuild/linux-aarch64-3.8/cmake-install/deepmd/tools/profiler_visualization_topk.py profiler
[WARN] xos LPG 2003 - Failed to map HugeTLBfs for data/bss: Layout problem with segments 0 and 1:
	Segments would overlap.
WARNING:tensorflow:From /home/hp200266/u01036/gzq/fj_software/tensorflow/TensorFlow-2.2.0/lib/python3.8/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
Instructions for updating:
non-resource variables are not supported in the long term

Top k op
average time	min time	max time	percentage	op name
 7661.00	    7661	    7661	    0.18	load/ProdEnvMatA
 3842.00	    3842	    3842	    0.09	load/gradients/filter_type_1/TabulateFusion_1_grad/TabulateFusionGrad
 3251.00	    3251	    3251	    0.08	load/gradients/layer_0_type_1/GemmLayer_grad/MatmulNt
 2669.00	    2669	    2669	    0.06	load/layer_0_type_1/GemmLayer
 2055.00	    2055	    2055	    0.05	load/gradients/filter_type_1/TabulateFusion_grad/TabulateFusionGrad
 1988.00	    1988	    1988	    0.05	load/gradients/filter_type_0/TabulateFusion_1_grad/TabulateFusionGrad
 1975.00	    1975	    1975	    0.05	load/gradients/layer_0_type_0/GemmLayer_grad/MatmulNt
 1695.00	    1695	    1695	    0.04	load/ProdVirialSeA
 1675.00	    1675	    1675	    0.04	load/filter_type_1/TabulateFusion_1
 1474.00	    1474	    1474	    0.03	load/layer_0_type_0/GemmLayer
  985.00	     985	     985	    0.02	load/gradients/filter_type_0/TabulateFusion_grad/TabulateFusionGrad
  956.00	     956	     956	    0.02	load/filter_type_1/TabulateFusion
  876.00	     876	     876	    0.02	load/filter_type_0/TabulateFusion_1
  744.00	     744	     744	    0.02	load/ProdForceSeA
  693.00	     693	     693	    0.02	load/filter_type_1/MatMul
  493.00	     493	     493	    0.01	load/gradients/filter_type_1/MatMul_grad/MatMul
  456.00	     456	     456	    0.01	load/filter_type_0/TabulateFusion
  404.00	     404	     404	    0.01	load/filter_type_0/MatMul
  363.00	     363	     363	    0.01	load/gradients/layer_2_type_1/GemmLayer_grad/MatmulNt
  360.00	     360	     360	    0.01	load/gradients/layer_1_type_1/GemmLayer_grad/MatmulNt
  338.00	     338	     338	    0.01	load/layer_1_type_1/GemmLayer
  332.00	     332	     332	    0.01	load/layer_2_type_1/GemmLayer
  304.00	     304	     304	    0.01	load/concat
  264.00	     264	     264	    0.01	load/gradients/AddN_4
  261.00	     261	     261	    0.01	load/gradients/filter_type_0/MatMul_grad/MatMul
  246.00	     246	     246	    0.01	load/gradients/layer_2_type_0/GemmLayer_grad/MatmulNt
  236.00	     236	     236	    0.01	load/gradients/filter_type_1/Slice_3_grad/Pad
  234.00	     234	     234	    0.01	load/gradients/layer_1_type_0/GemmLayer_grad/MatmulNt
  221.00	     221	     221	    0.01	load/gradients/Slice_3_grad/Pad
  207.00	     207	     207	    0.00	load/gradients/concat_grad/Slice_1
  204.00	     204	     204	    0.00	load/Slice_3
  196.00	     196	     196	    0.00	load/gradients/filter_type_1/MatMul_grad/MatMul_1
  193.00	     193	     193	    0.00	load/layer_1_type_0/GemmLayer
  193.00	     193	     193	    0.00	load/layer_2_type_0/GemmLayer
  186.00	     186	     186	    0.00	load/gradients/Slice_2_grad/Pad
  155.00	     155	     155	    0.00	load/filter_type_1/Slice_3
  126.00	     126	     126	    0.00	load/gradients/filter_type_1/Slice_1_grad/Pad
  126.00	     126	     126	    0.00	load/gradients/filter_type_0/Slice_3_grad/Pad
  116.00	     116	     116	    0.00	load/gradients/filter_type_0/MatMul_grad/MatMul_1
  109.00	     109	     109	    0.00	load/gradients/concat_grad/Slice
  107.00	     107	     107	    0.00	load/Slice_2
   80.00	      80	      80	    0.00	load/filter_type_0/Slice_3
   76.00	      76	      76	    0.00	load/filter_type_1/Slice_1
   75.00	      75	      75	    0.00	load/gradients/AddN_13
   72.00	      72	      72	    0.00	load/layer_0_type_1/FastTanh
   69.00	      69	      69	    0.00	load/gradients/filter_type_0/Slice_1_grad/Pad
   67.00	      67	      67	    0.00	load/gradients/Slice_1_grad/Pad
   64.00	      64	      64	    0.00	load/layer_2_type_1/FastTanh
   63.00	      63	      63	    0.00	load/layer_1_type_1/FastTanh
   63.00	      63	      63	    0.00	load/gradients/Slice_grad/Pad
   62.00	      62	      62	    0.00	load/Slice_1
   58.00	      58	      58	    0.00	load/layer_1_type_1/mul
   55.00	      55	      55	    0.00	load/filter_type_1/add
   53.00	      53	      53	    0.00	load/gradients/layer_2_type_1/mul_grad/Mul
   53.00	      53	      53	    0.00	load/gradients/layer_1_type_1/mul_grad/Mul
   52.00	      52	      52	    0.00	load/gradients/filter_type_1/Slice_4_grad/Pad
   51.00	      51	      51	    0.00	load/layer_2_type_1/mul
   51.00	      51	      51	    0.00	load/gradients/AddN_12
   50.00	      50	      50	    0.00	load/filter_type_1/Slice_4
   48.00	      48	      48	    0.00	load/gradients/AddN_6
   47.00	      47	      47	    0.00	load/filter_type_1/Slice_2
   47.00	      47	      47	    0.00	load/gradients/filter_type_1/Slice_2_grad/Pad
   43.00	      43	      43	    0.00	load/filter_type_0/Slice_1
   42.00	      42	      42	    0.00	load/final_layer_type_1/GemmLayer
   42.00	      42	      42	    0.00	load/gradients/filter_type_1/Slice_grad/Pad
   40.00	      40	      40	    0.00	load/gradients/layer_2_type_0/mul_grad/Mul
   39.00	      39	      39	    0.00	load/layer_0_type_0/FastTanh
   38.00	      38	      38	    0.00	load/filter_type_1/mul
   38.00	      38	      38	    0.00	load/layer_1_type_0/mul
   38.00	      38	      38	    0.00	load/gradients/filter_type_1/mul_grad/Mul
   37.00	      37	      37	    0.00	load/layer_1_type_0/FastTanh
   36.00	      36	      36	    0.00	load/Slice
   36.00	      36	      36	    0.00	load/layer_2_type_0/FastTanh
   35.00	      35	      35	    0.00	load/gradients/AddN_10
   34.00	      34	      34	    0.00	load/gradients/layer_1_type_0/mul_grad/Mul
   33.00	      33	      33	    0.00	load/filter_type_0/add
   32.00	      32	      32	    0.00	load/filter_type_0/Slice_4
   32.00	      32	      32	    0.00	load/layer_2_type_0/mul
   32.00	      32	      32	    0.00	load/gradients/final_layer_type_0/GemmLayer_grad/MatmulNt
   31.00	      31	      31	    0.00	load/filter_type_1/Slice
   30.00	      30	      30	    0.00	load/gradients/filter_type_0/Slice_4_grad/Pad
   30.00	      30	      30	    0.00	load/gradients/filter_type_0/Slice_2_grad/Pad
   28.00	      28	      28	    0.00	load/filter_type_0/Slice_2
   28.00	      28	      28	    0.00	load/gradients/final_layer_type_1/GemmLayer_grad/MatmulNt
   27.00	      27	      27	    0.00	load/final_layer_type_0/GemmLayer
   27.00	      27	      27	    0.00	load/gradients/filter_type_0/Slice_grad/Pad
   27.00	      27	      27	    0.00	load/gradients/AddN_11
   26.00	      26	      26	    0.00	load/gradients/layer_0_type_1/FastTanh_grad/Square
   26.00	      26	      26	    0.00	load/gradients/AddN_1
   25.00	      25	      25	    0.00	load/add_5
   25.00	      25	      25	    0.00	load/gradients/layer_2_type_1/FastTanh_grad/mul
   25.00	      25	      25	    0.00	load/gradients/AddN_3
   25.00	      25	      25	    0.00	load/gradients/layer_0_type_1/FastTanh_grad/mul
   25.00	      25	      25	    0.00	load/gradients/AddN_5
   24.00	      24	      24	    0.00	load/add_6
   24.00	      24	      24	    0.00	load/gradients/layer_1_type_1/FastTanh_grad/mul
   21.00	      21	      21	    0.00	load/filter_type_0/mul
   21.00	      21	      21	    0.00	load/gradients/filter_type_0/mul_grad/Mul
   20.00	      20	      20	    0.00	load/filter_type_0/Slice
   20.00	      20	      20	    0.00	load/gradients/layer_0_type_1/FastTanh_grad/sub

Top k op type
average time	percentage	op type
 8870.00	    0.21	TabulateFusionGrad
 7661.00	    0.18	ProdEnvMatA
 6489.00	    0.15	MatmulNt
 5268.00	    0.12	GemmLayer
 3963.00	    0.09	TabulateFusion
 2163.00	    0.05	MatMul
 1695.00	    0.04	ProdVirialSeA
 1322.00	    0.03	Pad
 1307.00	    0.03	Slice
  744.00	    0.02	ProdForceSeA
  659.00	    0.02	AddN
  429.00	    0.01	concat
  409.00	    0.01	mul
  311.00	    0.01	FastTanh
  239.00	    0.01	Mul
  225.00	    0.01	Shape
  221.00	    0.01	Reshape
  175.00	    0.00	add
  103.00	    0.00	sub
  103.00	    0.00	strided