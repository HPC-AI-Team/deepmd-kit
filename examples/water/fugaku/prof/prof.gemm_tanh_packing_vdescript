WARNING:tensorflow:From /home/hp200266/u01036/gzq/fj_software/tensorflow/TensorFlow-2.2.0/lib/python3.8/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
Instructions for updating:
non-resource variables are not supported in the long term
OMP: Warning #181: OMP_PROC_BIND: ignored because KMP_AFFINITY has been defined
WARNING:tensorflow:From /home/hp200266/u01036/gzq/fj_software/tensorflow/TensorFlow-2.2.0/lib/python3.8/site-packages/tensorflow/python/profiler/internal/flops_registry.py:142: tensor_shape_from_node_def_name (from tensorflow.python.framework.graph_util_impl) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.compat.v1.graph_util.tensor_shape_from_node_def_name`
DEEPMD WARNING From /home/hp200266/u01036/gzq/fj_software/tensorflow/TensorFlow-2.2.0/lib/python3.8/site-packages/tensorflow/python/profiler/internal/flops_registry.py:142: tensor_shape_from_node_def_name (from tensorflow.python.framework.graph_util_impl) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.compat.v1.graph_util.tensor_shape_from_node_def_name`
153 ops no flops stats due to incomplete shapes.
DEEPMD INFO    # ---------------output of dp test--------------- 
DEEPMD INFO    # testing system : ../data/data_3
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Parsing Inputs...
generating trace file.

******************************************************
Timeline file is written to ./profiler.json_0.
Open a Chrome browser, enter URL chrome://tracing and load the timeline file.
******************************************************
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.

=========================Options=============================
-max_depth                  10
-min_bytes                  0
-min_peak_bytes             0
-min_residual_bytes         0
-min_output_bytes           0
-min_micros                 0
-min_accelerator_micros     0
-min_cpu_micros             0
-min_params                 0
-min_float_ops              0
-min_occurrence             0
-step                       -1
-order_by                   micros
-account_type_regexes       .*
-start_name_regexes         .*
-trim_name_regexes          
-show_name_regexes          .*
-hide_name_regexes          
-account_displayed_op_only  false
-select                     bytes,float_ops,micros,occurrence
-output                     stdout:

==================Model Analysis Report======================

Doc:
op: The nodes are operation kernel type, such as MatMul, Conv2D. Graph nodes belonging to the same type are aggregated together.
requested bytes: The memory requested by the operation, accumulatively.
flops: Number of float operations. Note: Please read the implementation for the math behind it.
total execution time: Sum of accelerator execution time and cpu execution time.
cpu execution time: The time from the start to the end of the operation. It's the sum of actual cpu run time plus the time that it spends waiting if part of computation is launched asynchronously.
accelerator execution time: Time spent executing on the accelerator. This is normally measured by the actual hardware library.
occurrence: The number of times it occurs

Profile:
node name | requested bytes | total execution time | accelerator execution time | cpu execution time | # float_ops | op occurrence (run|defined)
GemmLayer                     48.59MB (100.00%, 17.64%),      20.97ms (100.00%, 17.55%),             0us (0.00%, 0.00%),      20.97ms (100.00%, 17.55%),   0 float_ops (100.00%, 0.00%),      20|20
MatmulNt                        24.81MB (82.36%, 9.01%),       19.47ms (82.45%, 16.29%),             0us (0.00%, 0.00%),       19.47ms (82.45%, 16.29%),   0 float_ops (100.00%, 0.00%),      20|20
BatchMatMulV2                  33.58MB (73.35%, 12.19%),       13.11ms (66.16%, 10.97%),             0us (0.00%, 0.00%),       13.11ms (66.16%, 10.97%), 162.79m float_ops (100.00%, 86.92%),      18|18
FastTanh                       48.59MB (61.16%, 17.64%),       12.27ms (55.19%, 10.27%),             0us (0.00%, 0.00%),       12.27ms (55.19%, 10.27%),    0 float_ops (13.08%, 0.00%),      18|18
Slice                          49.00MB (43.52%, 17.79%),        10.01ms (44.92%, 8.38%),             0us (0.00%, 0.00%),        10.01ms (44.92%, 8.38%),    0 float_ops (13.08%, 0.00%),      34|34
ProdEnvMatA                      4.13MB (25.73%, 1.50%),         9.68ms (36.55%, 8.10%),             0us (0.00%, 0.00%),         9.68ms (36.55%, 8.10%),    0 float_ops (13.08%, 0.00%),        1|1
ConcatV2                       43.85MB (24.23%, 15.92%),         6.24ms (28.45%, 5.22%),             0us (0.00%, 0.00%),         6.24ms (28.45%, 5.22%),    0 float_ops (13.08%, 0.00%),      24|24
Mul                               1.47MB (8.31%, 0.54%),         5.65ms (23.23%, 4.73%),             0us (0.00%, 0.00%),         5.65ms (23.23%, 4.73%), 6.45m float_ops (13.08%, 3.45%),      39|44
AddV2                                 4B (7.78%, 0.00%),         4.36ms (18.50%, 3.65%),             0us (0.00%, 0.00%),         4.36ms (18.50%, 3.65%),     0 float_ops (9.63%, 0.00%),      15|16
Square                                0B (0.00%, 0.00%),         3.77ms (14.85%, 3.16%),             0us (0.00%, 0.00%),         3.77ms (14.85%, 3.16%), 6.07m float_ops (9.63%, 3.24%),      18|18
Sub                                  56B (7.78%, 0.00%),         3.68ms (11.69%, 3.08%),             0us (0.00%, 0.00%),         3.68ms (11.69%, 3.08%), 6.07m float_ops (6.39%, 3.24%),      36|46

======================End of Report==========================
DEEPMD INFO    # number of test data : 1 
DEEPMD INFO    Energy RMSE        : 6.153924e-02 eV
DEEPMD INFO    Energy RMSE/Natoms : 3.205169e-04 eV
DEEPMD INFO    Force  RMSE        : 6.468562e-02 eV/A
DEEPMD INFO    Virial RMSE        : 5.267023e+00 eV
DEEPMD INFO    Virial RMSE/Natoms : 2.743241e-02 eV
DEEPMD INFO    # ----------------------------------------------- 
profile : ture
dp model type : ener
OMP: Warning #181: OMP_PROC_BIND: ignored because KMP_AFFINITY has been defined
INFO: You are running LIKWID in a cpuset with 50 CPUs. Taking given IDs as logical ID in cpuset
[1;34m[likwid-pin] Main PID -> hwthread 12 - OK[0m

Top k op
average time	min time	max time	percentage	op name
 9682.00	    9682	    9682	    0.09	load/ProdEnvMatA
 5028.00	    5028	    5028	    0.05	load/filter_type_1/GemmLayer_5
 4021.00	    4021	    4021	    0.04	load/gradients/filter_type_1/GemmLayer_5_grad/MatmulNt
 3581.00	    3581	    3581	    0.03	load/gradients/layer_0_type_1/GemmLayer_grad/MatmulNt
 3020.00	    3020	    3020	    0.03	load/filter_type_1/FastTanh_5
 2950.00	    2950	    2950	    0.03	load/layer_0_type_1/GemmLayer
 2457.00	    2457	    2457	    0.02	load/filter_type_1/GemmLayer_2
 2456.00	    2456	    2456	    0.02	load/filter_type_0/GemmLayer_5
 2222.00	    2222	    2222	    0.02	load/gradients/filter_type_1/MatMul_1_grad/MatMul
 2189.00	    2189	    2189	    0.02	load/gradients/layer_0_type_0/GemmLayer_grad/MatmulNt
 2181.00	    2181	    2181	    0.02	load/filter_type_0/concat
 2049.00	    2049	    2049	    0.02	load/gradients/filter_type_0/GemmLayer_5_grad/MatmulNt
 2041.00	    2041	    2041	    0.02	load/gradients/filter_type_1/GemmLayer_2_grad/MatmulNt
 2034.00	    2034	    2034	    0.02	load/ProdVirialSeA
 1632.00	    1632	    1632	    0.02	load/layer_0_type_0/GemmLayer
 1518.00	    1518	    1518	    0.01	load/filter_type_0/FastTanh_5
 1517.00	    1517	    1517	    0.01	load/filter_type_1/FastTanh_4
 1512.00	    1512	    1512	    0.01	load/filter_type_1/FastTanh_2
 1448.00	    1448	    1448	    0.01	load/filter_type_1/GemmLayer_4
 1444.00	    1444	    1444	    0.01	load/gradients/filter_type_1/concat_3_grad/Slice
 1442.00	    1442	    1442	    0.01	load/gradients/filter_type_1/concat_3_grad/Slice_1
 1272.00	    1272	    1272	    0.01	load/filter_type_0/GemmLayer_2
 1266.00	    1266	    1266	    0.01	load/gradients/filter_type_1/MatMul_grad/MatMul
 1240.00	    1240	    1240	    0.01	load/filter_type_1/add_3
 1196.00	    1196	    1196	    0.01	load/gradients/filter_type_1/MatMul_1_grad/MatMul_1
 1125.00	    1125	    1125	    0.01	load/filter_type_1/MatMul_1
 1118.00	    1118	    1118	    0.01	load/gradients/filter_type_0/MatMul_1_grad/MatMul
 1034.00	    1034	    1034	    0.01	load/filter_type_1/concat_3
 1027.00	    1027	    1027	    0.01	load/gradients/filter_type_1/GemmLayer_4_grad/MatmulNt
 1002.00	    1002	    1002	    0.01	load/gradients/filter_type_1/concat_2_grad/Slice_1
  969.00	     969	     969	    0.01	load/gradients/filter_type_0/GemmLayer_2_grad/MatmulNt
  950.00	     950	     950	    0.01	load/Reshape_6/shape
  832.00	     832	     832	    0.01	load/filter_type_1/MatMul_2
  824.00	     824	     824	    0.01	load/ProdForceSeA
  804.00	     804	     804	    0.01	load/gradients/AddN_10
  755.00	     755	     755	    0.01	load/filter_type_0/FastTanh_4
  750.00	     750	     750	    0.01	load/filter_type_1/FastTanh_3
  748.00	     748	     748	    0.01	load/filter_type_1/FastTanh_1
  731.00	     731	     731	    0.01	load/filter_type_0/FastTanh_2
  727.00	     727	     727	    0.01	load/gradients/filter_type_0/concat_3_grad/Slice
  696.00	     696	     696	    0.01	load/filter_type_0/GemmLayer_4
  696.00	     696	     696	    0.01	load/filter_type_1/GemmLayer_1
  692.00	     692	     692	    0.01	load/gradients/filter_type_1/concat_1_grad/Slice
  646.00	     646	     646	    0.01	load/filter_type_1/MatMul
  636.00	     636	     636	    0.01	load/gradients/filter_type_1/MatMul_grad/MatMul_1
  635.00	     635	     635	    0.01	load/filter_type_1/concat_1
  624.00	     624	     624	    0.01	load/filter_type_1/add_1
  623.00	     623	     623	    0.01	load/filter_type_0/add_3
  623.00	     623	     623	    0.01	load/filter_type_1/add_2
  617.00	     617	     617	    0.01	load/gradients/filter_type_1/MatMul_2_grad/MatMul
  611.00	     611	     611	    0.01	load/gradients/filter_type_0/MatMul_grad/MatMul
  593.00	     593	     593	    0.01	load/gradients/filter_type_0/MatMul_1_grad/MatMul_1
  577.00	     577	     577	    0.01	load/filter_type_0/MatMul_1
  566.00	     566	     566	    0.01	load/filter_type_1/concat_2
  562.00	     562	     562	    0.01	load/gradients/filter_type_1/concat_1_grad/Slice_1
  537.00	     537	     537	    0.00	load/gradients/filter_type_0/concat_3_grad/Slice_1
  509.00	     509	     509	    0.00	load/filter_type_0/concat_3
  504.00	     504	     504	    0.00	load/gradients/filter_type_1/concat_2_grad/Slice
  504.00	     504	     504	    0.00	load/gradients/filter_type_0/GemmLayer_4_grad/MatmulNt
  500.00	     500	     500	    0.00	load/gradients/filter_type_1/GemmLayer_1_grad/MatmulNt
  440.00	     440	     440	    0.00	load/gradients/AddN_9
  437.00	     437	     437	    0.00	load/filter_type_0/MatMul_2
  418.00	     418	     418	    0.00	load/gradients/AddN_8
  414.00	     414	     414	    0.00	load/gradients/AddN_14
  405.00	     405	     405	    0.00	load/gradients/filter_type_1/GemmLayer_3_grad/MatmulNt
  397.00	     397	     397	    0.00	load/gradients/layer_2_type_1/GemmLayer_grad/MatmulNt
  393.00	     393	     393	    0.00	load/gradients/layer_1_type_1/GemmLayer_grad/MatmulNt
  383.00	     383	     383	    0.00	load/filter_type_0/FastTanh_1
  382.00	     382	     382	    0.00	load/filter_type_1/FastTanh
  381.00	     381	     381	    0.00	load/filter_type_0/FastTanh_3
  369.00	     369	     369	    0.00	load/layer_1_type_1/GemmLayer
  366.00	     366	     366	    0.00	load/layer_2_type_1/GemmLayer
  365.00	     365	     365	    0.00	load/filter_type_0/GemmLayer_1
  344.00	     344	     344	    0.00	load/filter_type_0/MatMul
  337.00	     337	     337	    0.00	load/concat
  324.00	     324	     324	    0.00	load/gradients/filter_type_1/FastTanh_3_grad/mul
  321.00	     321	     321	    0.00	load/gradients/AddN_4
  314.00	     314	     314	    0.00	load/gradients/filter_type_0/MatMul_2_grad/MatMul
  314.00	     314	     314	    0.00	load/gradients/filter_type_0/FastTanh_2_grad/mul
  310.00	     310	     310	    0.00	load/filter_type_1/GemmLayer_3
  310.00	     310	     310	    0.00	load/gradients/filter_type_1/concat_grad/Slice_1
  309.00	     309	     309	    0.00	load/filter_type_0/add_2
  307.00	     307	     307	    0.00	load/filter_type_1/add
  304.00	     304	     304	    0.00	load/filter_type_0/add_1
  293.00	     293	     293	    0.00	load/filter_type_1/concat
  283.00	     283	     283	    0.00	load/filter_type_0/concat_2
  275.00	     275	     275	    0.00	load/gradients/layer_2_type_0/GemmLayer_grad/MatmulNt
  269.00	     269	     269	    0.00	load/filter_type_0/concat_1
  266.00	     266	     266	    0.00	load/gradients/filter_type_1/Slice_3_grad/Pad
  266.00	     266	     266	    0.00	load/gradients/filter_type_0/concat_2_grad/Slice_1
  264.00	     264	     264	    0.00	load/gradients/Slice_3_grad/Pad
  262.00	     262	     262	    0.00	load/gradients/filter_type_0/GemmLayer_1_grad/MatmulNt
  256.00	     256	     256	    0.00	load/gradients/layer_1_type_0/GemmLayer_grad/MatmulNt
  245.00	     245	     245	    0.00	load/gradients/filter_type_1/concat_grad/Slice
  244.00	     244	     244	    0.00	load/gradients/filter_type_0/MatMul_grad/MatMul_1
  231.00	     231	     231	    0.00	load/gradients/Slice_2_grad/Pad
  228.00	     228	     228	    0.00	load/gradients/concat_grad/Slice_1
  227.00	     227	     227	    0.00	load/filter_type_0/FastTanh
  221.00	     221	     221	    0.00	load/Slice_3
  218.00	     218	     218	    0.00	load/gradients/filter_type_0/FastTanh_2_grad/sub

Top k op type
average time	percentage	op type
20974.00	    0.19	GemmLayer
19472.00	    0.18	MatmulNt
13108.00	    0.12	MatMul
12268.00	    0.11	FastTanh
10010.00	    0.09	Slice
 9682.00	    0.09	ProdEnvMatA
 6240.00	    0.06	concat
 4360.00	    0.04	add
 3557.00	    0.03	AddN
 2034.00	    0.02	ProdVirialSeA
 1534.00	    0.01	Pad
 1457.00	    0.01	mul
 1023.00	    0.01	shape
  824.00	    0.01	ProdForceSeA
  312.00	    0.00	Shape
  294.00	    0.00	sub
  259.00	    0.00	Mul
  234.00	    0.00	Reshape
  204.00	    0.00	strided
  100.00	    0.00	Sum
