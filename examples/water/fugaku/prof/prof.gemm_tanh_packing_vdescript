WARNING:tensorflow:From /home/hp200266/u01036/gzq/fj_software/tensorflow/TensorFlow-2.2.0/lib/python3.8/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
Instructions for updating:
non-resource variables are not supported in the long term
OMP: Warning #181: OMP_PROC_BIND: ignored because KMP_AFFINITY has been defined
WARNING:tensorflow:From /home/hp200266/u01036/gzq/fj_software/tensorflow/TensorFlow-2.2.0/lib/python3.8/site-packages/tensorflow/python/profiler/internal/flops_registry.py:142: tensor_shape_from_node_def_name (from tensorflow.python.framework.graph_util_impl) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.compat.v1.graph_util.tensor_shape_from_node_def_name`
DEEPMD WARNING From /home/hp200266/u01036/gzq/fj_software/tensorflow/TensorFlow-2.2.0/lib/python3.8/site-packages/tensorflow/python/profiler/internal/flops_registry.py:142: tensor_shape_from_node_def_name (from tensorflow.python.framework.graph_util_impl) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.compat.v1.graph_util.tensor_shape_from_node_def_name`
153 ops no flops stats due to incomplete shapes.
DEEPMD INFO    # ---------------output of dp test--------------- 
DEEPMD INFO    # testing system : ../data/data_3
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Parsing Inputs...
generating trace file.

******************************************************
Timeline file is written to ./profiler.json_0.
Open a Chrome browser, enter URL chrome://tracing and load the timeline file.
******************************************************
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.

=========================Options=============================
-max_depth                  10
-min_bytes                  0
-min_peak_bytes             0
-min_residual_bytes         0
-min_output_bytes           0
-min_micros                 0
-min_accelerator_micros     0
-min_cpu_micros             0
-min_params                 0
-min_float_ops              0
-min_occurrence             0
-step                       -1
-order_by                   micros
-account_type_regexes       .*
-start_name_regexes         .*
-trim_name_regexes          
-show_name_regexes          .*
-hide_name_regexes          
-account_displayed_op_only  false
-select                     bytes,float_ops,micros,occurrence
-output                     stdout:

==================Model Analysis Report======================

Doc:
op: The nodes are operation kernel type, such as MatMul, Conv2D. Graph nodes belonging to the same type are aggregated together.
requested bytes: The memory requested by the operation, accumulatively.
flops: Number of float operations. Note: Please read the implementation for the math behind it.
total execution time: Sum of accelerator execution time and cpu execution time.
cpu execution time: The time from the start to the end of the operation. It's the sum of actual cpu run time plus the time that it spends waiting if part of computation is launched asynchronously.
accelerator execution time: Time spent executing on the accelerator. This is normally measured by the actual hardware library.
occurrence: The number of times it occurs

Profile:
node name | requested bytes | total execution time | accelerator execution time | cpu execution time | # float_ops | op occurrence (run|defined)
GemmLayer                     48.59MB (100.00%, 17.64%),      21.19ms (100.00%, 18.09%),             0us (0.00%, 0.00%),      21.19ms (100.00%, 18.09%),   0 float_ops (100.00%, 0.00%),      20|20
MatmulNt                        24.81MB (82.36%, 9.01%),       19.48ms (81.91%, 16.63%),             0us (0.00%, 0.00%),       19.48ms (81.91%, 16.63%),   0 float_ops (100.00%, 0.00%),      20|20
BatchMatMulV2                  33.58MB (73.35%, 12.19%),       13.03ms (65.27%, 11.13%),             0us (0.00%, 0.00%),       13.03ms (65.27%, 11.13%), 162.79m float_ops (100.00%, 86.92%),      18|18
FastTanh                       48.59MB (61.16%, 17.64%),       12.21ms (54.15%, 10.43%),             0us (0.00%, 0.00%),       12.21ms (54.15%, 10.43%),    0 float_ops (13.08%, 0.00%),      18|18
Slice                          49.00MB (43.52%, 17.79%),        10.27ms (43.72%, 8.77%),             0us (0.00%, 0.00%),        10.27ms (43.72%, 8.77%),    0 float_ops (13.08%, 0.00%),      34|34
ProdEnvMatA                      4.13MB (25.73%, 1.50%),         9.70ms (34.95%, 8.28%),             0us (0.00%, 0.00%),         9.70ms (34.95%, 8.28%),    0 float_ops (13.08%, 0.00%),        1|1
Mul                              1.47MB (24.23%, 0.54%),         5.66ms (26.67%, 4.83%),             0us (0.00%, 0.00%),         5.66ms (26.67%, 4.83%), 6.45m float_ops (13.08%, 3.45%),      39|44
AddV2                                4B (23.70%, 0.00%),         4.38ms (21.83%, 3.74%),             0us (0.00%, 0.00%),         4.38ms (21.83%, 3.74%),     0 float_ops (9.63%, 0.00%),      15|16
ConcatV2                       43.85MB (23.70%, 15.92%),         4.37ms (18.09%, 3.73%),             0us (0.00%, 0.00%),         4.37ms (18.09%, 3.73%),     0 float_ops (9.63%, 0.00%),      24|24
Square                                0B (0.00%, 0.00%),         3.78ms (14.36%, 3.23%),             0us (0.00%, 0.00%),         3.78ms (14.36%, 3.23%), 6.07m float_ops (9.63%, 3.24%),      18|18
Sub                                  56B (7.78%, 0.00%),         3.70ms (11.13%, 3.16%),             0us (0.00%, 0.00%),         3.70ms (11.13%, 3.16%), 6.07m float_ops (6.39%, 3.24%),      36|46

======================End of Report==========================
DEEPMD INFO    # number of test data : 1 
DEEPMD INFO    Energy RMSE        : 6.153924e-02 eV
DEEPMD INFO    Energy RMSE/Natoms : 3.205169e-04 eV
DEEPMD INFO    Force  RMSE        : 6.468562e-02 eV/A
DEEPMD INFO    Virial RMSE        : 5.267023e+00 eV
DEEPMD INFO    Virial RMSE/Natoms : 2.743241e-02 eV
DEEPMD INFO    # ----------------------------------------------- 
profile : ture
dp model type : ener
OMP: Warning #181: OMP_PROC_BIND: ignored because KMP_AFFINITY has been defined
INFO: You are running LIKWID in a cpuset with 50 CPUs. Taking given IDs as logical ID in cpuset
[1;34m[likwid-pin] Main PID -> hwthread 12 - OK[0m

Top k op
average time	min time	max time	percentage	op name
 9698.00	    9698	    9698	    0.09	load/ProdEnvMatA
 5096.00	    5096	    5096	    0.05	load/filter_type_1/GemmLayer_5
 4027.00	    4027	    4027	    0.04	load/gradients/filter_type_1/GemmLayer_5_grad/MatmulNt
 3601.00	    3601	    3601	    0.03	load/gradients/layer_0_type_1/GemmLayer_grad/MatmulNt
 3010.00	    3010	    3010	    0.03	load/filter_type_1/FastTanh_5
 2956.00	    2956	    2956	    0.03	load/layer_0_type_1/GemmLayer
 2510.00	    2510	    2510	    0.02	load/filter_type_0/GemmLayer_5
 2507.00	    2507	    2507	    0.02	load/filter_type_1/GemmLayer_2
 2212.00	    2212	    2212	    0.02	load/gradients/filter_type_1/MatMul_1_grad/MatMul
 2187.00	    2187	    2187	    0.02	load/gradients/layer_0_type_0/GemmLayer_grad/MatmulNt
 2046.00	    2046	    2046	    0.02	load/gradients/filter_type_0/GemmLayer_5_grad/MatmulNt
 2042.00	    2042	    2042	    0.02	load/gradients/filter_type_1/GemmLayer_2_grad/MatmulNt
 2024.00	    2024	    2024	    0.02	load/ProdVirialSeA
 1632.00	    1632	    1632	    0.02	load/layer_0_type_0/GemmLayer
 1520.00	    1520	    1520	    0.01	load/filter_type_1/FastTanh_4
 1518.00	    1518	    1518	    0.01	load/filter_type_0/FastTanh_5
 1507.00	    1507	    1507	    0.01	load/filter_type_1/FastTanh_2
 1481.00	    1481	    1481	    0.01	load/filter_type_1/GemmLayer_4
 1442.00	    1442	    1442	    0.01	load/gradients/filter_type_1/concat_3_grad/Slice
 1438.00	    1438	    1438	    0.01	load/gradients/filter_type_1/concat_3_grad/Slice_1
 1255.00	    1255	    1255	    0.01	load/gradients/filter_type_1/MatMul_grad/MatMul
 1240.00	    1240	    1240	    0.01	load/filter_type_0/GemmLayer_2
 1238.00	    1238	    1238	    0.01	load/filter_type_1/add_3
 1193.00	    1193	    1193	    0.01	load/gradients/filter_type_1/MatMul_1_grad/MatMul_1
 1118.00	    1118	    1118	    0.01	load/gradients/filter_type_0/MatMul_1_grad/MatMul
 1107.00	    1107	    1107	    0.01	load/filter_type_1/MatMul_1
 1045.00	    1045	    1045	    0.01	load/gradients/filter_type_1/concat_2_grad/Slice_1
 1022.00	    1022	    1022	    0.01	load/gradients/filter_type_1/GemmLayer_4_grad/MatmulNt
 1005.00	    1005	    1005	    0.01	load/filter_type_1/concat_3
  971.00	     971	     971	    0.01	load/gradients/filter_type_0/GemmLayer_2_grad/MatmulNt
  832.00	     832	     832	    0.01	load/filter_type_1/MatMul_2
  823.00	     823	     823	    0.01	load/ProdForceSeA
  808.00	     808	     808	    0.01	load/gradients/AddN_10
  755.00	     755	     755	    0.01	load/filter_type_0/FastTanh_4
  753.00	     753	     753	    0.01	load/filter_type_1/FastTanh_3
  749.00	     749	     749	    0.01	load/filter_type_1/FastTanh_1
  731.00	     731	     731	    0.01	load/filter_type_0/FastTanh_2
  726.00	     726	     726	    0.01	load/gradients/filter_type_0/concat_3_grad/Slice
  710.00	     710	     710	    0.01	load/gradients/filter_type_1/concat_1_grad/Slice
  708.00	     708	     708	    0.01	load/filter_type_1/GemmLayer_1
  701.00	     701	     701	    0.01	load/filter_type_0/GemmLayer_4
  690.00	     690	     690	    0.01	load/filter_type_0/concat_3
  677.00	     677	     677	    0.01	load/gradients/filter_type_1/concat_2_grad/Slice
  647.00	     647	     647	    0.01	load/filter_type_1/MatMul
  632.00	     632	     632	    0.01	load/gradients/filter_type_1/MatMul_grad/MatMul_1
  627.00	     627	     627	    0.01	load/filter_type_1/add_2
  625.00	     625	     625	    0.01	load/gradients/filter_type_1/MatMul_2_grad/MatMul
  624.00	     624	     624	    0.01	load/filter_type_1/add_1
  622.00	     622	     622	    0.01	load/filter_type_0/add_3
  611.00	     611	     611	    0.01	load/filter_type_1/concat_1
  602.00	     602	     602	    0.01	load/gradients/filter_type_0/MatMul_grad/MatMul
  597.00	     597	     597	    0.01	load/gradients/filter_type_0/MatMul_1_grad/MatMul_1
  574.00	     574	     574	    0.01	load/gradients/filter_type_0/concat_3_grad/Slice_1
  566.00	     566	     566	    0.01	load/filter_type_0/MatMul_1
  565.00	     565	     565	    0.01	load/filter_type_1/concat_2
  564.00	     564	     564	    0.01	load/gradients/filter_type_1/concat_1_grad/Slice_1
  501.00	     501	     501	    0.00	load/gradients/filter_type_0/GemmLayer_4_grad/MatmulNt
  499.00	     499	     499	    0.00	load/gradients/filter_type_1/GemmLayer_1_grad/MatmulNt
  437.00	     437	     437	    0.00	load/gradients/AddN_9
  429.00	     429	     429	    0.00	load/filter_type_0/MatMul_2
  417.00	     417	     417	    0.00	load/gradients/AddN_8
  415.00	     415	     415	    0.00	load/gradients/AddN_14
  402.00	     402	     402	    0.00	load/gradients/filter_type_1/GemmLayer_3_grad/MatmulNt
  398.00	     398	     398	    0.00	load/gradients/layer_2_type_1/GemmLayer_grad/MatmulNt
  394.00	     394	     394	    0.00	load/gradients/layer_1_type_1/GemmLayer_grad/MatmulNt
  382.00	     382	     382	    0.00	load/filter_type_0/FastTanh_1
  381.00	     381	     381	    0.00	load/filter_type_0/FastTanh_3
  378.00	     378	     378	    0.00	load/filter_type_1/FastTanh
  368.00	     368	     368	    0.00	load/layer_1_type_1/GemmLayer
  367.00	     367	     367	    0.00	load/layer_2_type_1/GemmLayer
  356.00	     356	     356	    0.00	load/filter_type_0/GemmLayer_1
  337.00	     337	     337	    0.00	load/concat
  335.00	     335	     335	    0.00	load/filter_type_0/MatMul
  323.00	     323	     323	    0.00	load/filter_type_1/GemmLayer_3
  320.00	     320	     320	    0.00	load/gradients/AddN_4
  320.00	     320	     320	    0.00	load/gradients/filter_type_1/FastTanh_3_grad/mul
  316.00	     316	     316	    0.00	load/filter_type_0/add_2
  312.00	     312	     312	    0.00	load/filter_type_0/add_1
  311.00	     311	     311	    0.00	load/filter_type_1/add
  311.00	     311	     311	    0.00	load/gradients/filter_type_0/FastTanh_2_grad/mul
  307.00	     307	     307	    0.00	load/gradients/filter_type_0/MatMul_2_grad/MatMul
  302.00	     302	     302	    0.00	load/filter_type_1/concat
  300.00	     300	     300	    0.00	load/gradients/filter_type_1/concat_grad/Slice_1
  278.00	     278	     278	    0.00	load/gradients/layer_2_type_0/GemmLayer_grad/MatmulNt
  275.00	     275	     275	    0.00	load/gradients/filter_type_0/concat_2_grad/Slice_1
  273.00	     273	     273	    0.00	load/filter_type_0/concat_2
  266.00	     266	     266	    0.00	load/gradients/filter_type_1/Slice_3_grad/Pad
  262.00	     262	     262	    0.00	load/filter_type_0/concat_1
  262.00	     262	     262	    0.00	load/gradients/Slice_3_grad/Pad
  258.00	     258	     258	    0.00	load/gradients/filter_type_0/GemmLayer_1_grad/MatmulNt
  255.00	     255	     255	    0.00	load/gradients/layer_1_type_0/GemmLayer_grad/MatmulNt
  247.00	     247	     247	    0.00	load/gradients/filter_type_1/concat_grad/Slice
  243.00	     243	     243	    0.00	load/gradients/filter_type_0/MatMul_grad/MatMul_1
  231.00	     231	     231	    0.00	load/gradients/Slice_2_grad/Pad
  227.00	     227	     227	    0.00	load/gradients/concat_grad/Slice_1
  223.00	     223	     223	    0.00	load/Slice_3
  217.00	     217	     217	    0.00	load/gradients/filter_type_0/FastTanh_2_grad/sub
  213.00	     213	     213	    0.00	load/gradients/filter_type_0/GemmLayer_3_grad/MatmulNt
  213.00	     213	     213	    0.00	load/gradients/filter_type_1/GemmLayer_grad/MatmulNt
  212.00	     212	     212	    0.00	load/layer_2_type_0/GemmLayer

Top k op type
average time	percentage	op type
21192.00	    0.20	GemmLayer
19483.00	    0.18	MatmulNt
13031.00	    0.12	MatMul
12211.00	    0.12	FastTanh
10274.00	    0.10	Slice
 9698.00	    0.09	ProdEnvMatA
 4382.00	    0.04	add
 4369.00	    0.04	concat
 3552.00	    0.03	AddN
 2024.00	    0.02	ProdVirialSeA
 1526.00	    0.01	Pad
 1479.00	    0.01	mul
  823.00	    0.01	ProdForceSeA
  315.00	    0.00	Shape
  291.00	    0.00	sub
  256.00	    0.00	Mul
  228.00	    0.00	Reshape
  209.00	    0.00	strided
  103.00	    0.00	Sum
   93.00	    0.00	ShapeN
