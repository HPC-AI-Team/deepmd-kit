WARNING:tensorflow:From /home/hp200266/u01036/gzq/fj_software/tensorflow/TensorFlow-2.2.0/lib/python3.8/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
Instructions for updating:
non-resource variables are not supported in the long term
OMP: Warning #181: OMP_PROC_BIND: ignored because KMP_AFFINITY has been defined
WARNING:tensorflow:From /home/hp200266/u01036/gzq/fj_software/tensorflow/TensorFlow-2.2.0/lib/python3.8/site-packages/tensorflow/python/profiler/internal/flops_registry.py:142: tensor_shape_from_node_def_name (from tensorflow.python.framework.graph_util_impl) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.compat.v1.graph_util.tensor_shape_from_node_def_name`
DEEPMD WARNING From /home/hp200266/u01036/gzq/fj_software/tensorflow/TensorFlow-2.2.0/lib/python3.8/site-packages/tensorflow/python/profiler/internal/flops_registry.py:142: tensor_shape_from_node_def_name (from tensorflow.python.framework.graph_util_impl) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.compat.v1.graph_util.tensor_shape_from_node_def_name`
73 ops no flops stats due to incomplete shapes.
DEEPMD INFO    # ---------------output of dp test--------------- 
DEEPMD INFO    # testing system : ../data/data_3
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Parsing Inputs...
generating trace file.

******************************************************
Timeline file is written to ./profiler.json_0.
Open a Chrome browser, enter URL chrome://tracing and load the timeline file.
******************************************************
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.

=========================Options=============================
-max_depth                  10
-min_bytes                  0
-min_peak_bytes             0
-min_residual_bytes         0
-min_output_bytes           0
-min_micros                 0
-min_accelerator_micros     0
-min_cpu_micros             0
-min_params                 0
-min_float_ops              0
-min_occurrence             0
-step                       -1
-order_by                   micros
-account_type_regexes       .*
-start_name_regexes         .*
-trim_name_regexes          
-show_name_regexes          .*
-hide_name_regexes          
-account_displayed_op_only  false
-select                     bytes,float_ops,micros,occurrence
-output                     stdout:

==================Model Analysis Report======================

Doc:
op: The nodes are operation kernel type, such as MatMul, Conv2D. Graph nodes belonging to the same type are aggregated together.
requested bytes: The memory requested by the operation, accumulatively.
flops: Number of float operations. Note: Please read the implementation for the math behind it.
total execution time: Sum of accelerator execution time and cpu execution time.
cpu execution time: The time from the start to the end of the operation. It's the sum of actual cpu run time plus the time that it spends waiting if part of computation is launched asynchronously.
accelerator execution time: Time spent executing on the accelerator. This is normally measured by the actual hardware library.
occurrence: The number of times it occurs

Profile:
node name | requested bytes | total execution time | accelerator execution time | cpu execution time | # float_ops | op occurrence (run|defined)
TabulateFusionGrad              1.06MB (100.00%, 1.25%),      43.04ms (100.00%, 42.68%),             0us (0.00%, 0.00%),      43.04ms (100.00%, 42.68%),   0 float_ops (100.00%, 0.00%),        4|4
TabulateFusion                   1.57MB (98.75%, 1.86%),       23.79ms (57.32%, 23.60%),             0us (0.00%, 0.00%),       23.79ms (57.32%, 23.60%),   0 float_ops (100.00%, 0.00%),        4|4
ProdEnvMatA                      4.13MB (96.89%, 4.88%),         9.63ms (33.72%, 9.55%),             0us (0.00%, 0.00%),         9.63ms (33.72%, 9.55%),   0 float_ops (100.00%, 0.00%),        1|1
MatmulNt                         4.25MB (92.00%, 5.02%),         7.02ms (24.17%, 6.96%),             0us (0.00%, 0.00%),         7.02ms (24.17%, 6.96%),   0 float_ops (100.00%, 0.00%),        8|8
GemmTanhLayer                    1.11MB (86.98%, 1.31%),         5.95ms (17.21%, 5.90%),             0us (0.00%, 0.00%),         5.95ms (17.21%, 5.90%),   0 float_ops (100.00%, 0.00%),        6|6
BatchMatMulV2                    4.03MB (85.67%, 4.76%),         2.37ms (11.32%, 2.35%),             0us (0.00%, 0.00%),         2.37ms (11.32%, 2.35%), 106.95m float_ops (100.00%, 98.52%),        6|6
ProdVirialSeA                   13.90KB (80.91%, 0.02%),          1.86ms (8.97%, 1.84%),             0us (0.00%, 0.00%),          1.86ms (8.97%, 1.84%),     0 float_ops (1.48%, 0.00%),        1|1
Pad                            11.32MB (80.89%, 13.37%),          1.50ms (7.13%, 1.49%),             0us (0.00%, 0.00%),          1.50ms (7.13%, 1.49%),     0 float_ops (1.48%, 0.00%),      14|14
Slice                            8.30MB (67.52%, 9.81%),          1.42ms (5.64%, 1.41%),             0us (0.00%, 0.00%),          1.42ms (5.64%, 1.41%),     0 float_ops (1.48%, 0.00%),      18|18
ProdForceSeA                     4.61KB (57.71%, 0.01%),           838us (4.23%, 0.83%),             0us (0.00%, 0.00%),           838us (4.23%, 0.83%),     0 float_ops (1.48%, 0.00%),        1|1
AddN                                  0B (0.00%, 0.00%),           757us (3.40%, 0.75%),             0us (0.00%, 0.00%),           757us (3.40%, 0.75%), 809.47k float_ops (1.48%, 0.75%),      14|14

======================End of Report==========================
DEEPMD INFO    # number of test data : 1 
DEEPMD INFO    Energy RMSE        : 6.076734e-02 eV
DEEPMD INFO    Energy RMSE/Natoms : 3.164966e-04 eV
DEEPMD INFO    Force  RMSE        : 6.465624e-02 eV/A
DEEPMD INFO    Virial RMSE        : 5.265184e+00 eV
DEEPMD INFO    Virial RMSE/Natoms : 2.742283e-02 eV
DEEPMD INFO    # ----------------------------------------------- 
profile : ture
dp model type : ener
OMP: Warning #181: OMP_PROC_BIND: ignored because KMP_AFFINITY has been defined
INFO: You are running LIKWID in a cpuset with 50 CPUs. Taking given IDs as logical ID in cpuset
[1;34m[likwid-pin] Main PID -> hwthread 12 - OK[0m

Top k op
average time	min time	max time	percentage	op name
18777.00	   18777	   18777	    0.19	load/gradients/filter_type_1/TabulateFusion_1_grad/TabulateFusionGrad
10331.00	   10331	   10331	    0.10	load/filter_type_1/TabulateFusion_1
 9900.00	    9900	    9900	    0.10	load/gradients/filter_type_1/TabulateFusion_grad/TabulateFusionGrad
 9645.00	    9645	    9645	    0.10	load/gradients/filter_type_0/TabulateFusion_1_grad/TabulateFusionGrad
 9632.00	    9632	    9632	    0.10	load/ProdEnvMatA
 5510.00	    5510	    5510	    0.05	load/filter_type_1/TabulateFusion
 5318.00	    5318	    5318	    0.05	load/filter_type_0/TabulateFusion_1
 4719.00	    4719	    4719	    0.05	load/gradients/filter_type_0/TabulateFusion_grad/TabulateFusionGrad
 3472.00	    3472	    3472	    0.03	load/gradients/layer_0_type_1/GemmTanhLayer_grad/MatmulNt
 2994.00	    2994	    2994	    0.03	load/layer_0_type_1/GemmTanhLayer
 2634.00	    2634	    2634	    0.03	load/filter_type_0/TabulateFusion
 2164.00	    2164	    2164	    0.02	load/gradients/layer_0_type_0/GemmTanhLayer_grad/MatmulNt
 1856.00	    1856	    1856	    0.02	load/ProdVirialSeA
 1655.00	    1655	    1655	    0.02	load/layer_0_type_0/GemmTanhLayer
  838.00	     838	     838	    0.01	load/ProdForceSeA
  745.00	     745	     745	    0.01	load/filter_type_1/MatMul
  552.00	     552	     552	    0.01	load/gradients/filter_type_1/MatMul_grad/MatMul
  429.00	     429	     429	    0.00	load/filter_type_0/MatMul
  417.00	     417	     417	    0.00	load/layer_1_type_1/GemmTanhLayer
  408.00	     408	     408	    0.00	load/layer_2_type_1/GemmTanhLayer
  395.00	     395	     395	    0.00	load/gradients/layer_2_type_1/GemmTanhLayer_grad/MatmulNt
  391.00	     391	     391	    0.00	load/gradients/layer_1_type_1/GemmTanhLayer_grad/MatmulNt
  339.00	     339	     339	    0.00	load/concat
  319.00	     319	     319	    0.00	load/gradients/AddN_4
  316.00	     316	     316	    0.00	load/gradients/filter_type_0/MatMul_grad/MatMul
  278.00	     278	     278	    0.00	load/gradients/layer_2_type_0/GemmTanhLayer_grad/MatmulNt
  260.00	     260	     260	    0.00	load/gradients/Slice_3_grad/Pad
  257.00	     257	     257	    0.00	load/gradients/filter_type_1/Slice_3_grad/Pad
  256.00	     256	     256	    0.00	load/gradients/layer_1_type_0/GemmTanhLayer_grad/MatmulNt
  237.00	     237	     237	    0.00	load/layer_1_type_0/GemmTanhLayer
  234.00	     234	     234	    0.00	load/layer_2_type_0/GemmTanhLayer
  230.00	     230	     230	    0.00	load/gradients/Slice_2_grad/Pad
  227.00	     227	     227	    0.00	load/gradients/concat_grad/Slice_1
  223.00	     223	     223	    0.00	load/Slice_3
  210.00	     210	     210	    0.00	load/gradients/filter_type_1/MatMul_grad/MatMul_1
  162.00	     162	     162	    0.00	load/filter_type_1/Slice_3
  139.00	     139	     139	    0.00	load/gradients/filter_type_1/Slice_1_grad/Pad
  135.00	     135	     135	    0.00	load/gradients/filter_type_0/Slice_3_grad/Pad
  119.00	     119	     119	    0.00	load/Slice_2
  118.00	     118	     118	    0.00	load/gradients/concat_grad/Slice
  114.00	     114	     114	    0.00	load/gradients/filter_type_0/MatMul_grad/MatMul_1
   94.00	      94	      94	    0.00	load/filter_type_0/Slice_3
   87.00	      87	      87	    0.00	load/filter_type_1/Slice_1
   82.00	      82	      82	    0.00	load/gradients/AddN_13
   73.00	      73	      73	    0.00	load/gradients/filter_type_0/Slice_1_grad/Pad
   73.00	      73	      73	    0.00	load/gradients/Slice_1_grad/Pad
   69.00	      69	      69	    0.00	load/gradients/Slice_grad/Pad
   66.00	      66	      66	    0.00	load/Slice_1
   64.00	      64	      64	    0.00	load/filter_type_1/add
   64.00	      64	      64	    0.00	load/layer_1_type_1/mul
   59.00	      59	      59	    0.00	load/gradients/AddN_12
   57.00	      57	      57	    0.00	load/layer_2_type_1/mul
   57.00	      57	      57	    0.00	load/gradients/layer_2_type_1/mul_grad/Mul
   57.00	      57	      57	    0.00	load/gradients/filter_type_1/Slice_4_grad/Pad
   56.00	      56	      56	    0.00	load/gradients/layer_1_type_1/mul_grad/Mul
   54.00	      54	      54	    0.00	load/gradients/AddN_6
   54.00	      54	      54	    0.00	load/gradients/filter_type_1/Slice_2_grad/Pad
   54.00	      54	      54	    0.00	load/gradients/filter_type_1/Slice_grad/Pad
   53.00	      53	      53	    0.00	load/filter_type_1/Slice_4
   50.00	      50	      50	    0.00	load/filter_type_1/Slice_2
   46.00	      46	      46	    0.00	load/filter_type_0/Slice_1
   46.00	      46	      46	    0.00	load/gradients/layer_2_type_0/mul_grad/Mul
   45.00	      45	      45	    0.00	load/final_layer_type_1/GemmLayer
   42.00	      42	      42	    0.00	load/filter_type_1/mul
   42.00	      42	      42	    0.00	load/layer_1_type_0/mul
   42.00	      42	      42	    0.00	load/gradients/filter_type_1/mul_grad/Mul
   40.00	      40	      40	    0.00	load/Slice
   39.00	      39	      39	    0.00	load/filter_type_0/add
   39.00	      39	      39	    0.00	load/gradients/AddN_10
   36.00	      36	      36	    0.00	load/gradients/layer_1_type_0/mul_grad/Mul
   35.00	      35	      35	    0.00	load/filter_type_1/Slice
   34.00	      34	      34	    0.00	load/layer_2_type_0/mul
   34.00	      34	      34	    0.00	load/gradients/filter_type_0/Slice_4_grad/Pad
   33.00	      33	      33	    0.00	load/filter_type_0/Slice_2
   33.00	      33	      33	    0.00	load/filter_type_0/Slice_4
   33.00	      33	      33	    0.00	load/gradients/layer_0_type_1/GemmTanhLayer_grad/Square
   33.00	      33	      33	    0.00	load/gradients/final_layer_type_0/GemmLayer_grad/MatmulNt
   32.00	      32	      32	    0.00	load/gradients/filter_type_0/Slice_2_grad/Pad
   32.00	      32	      32	    0.00	load/gradients/filter_type_0/Slice_grad/Pad
   31.00	      31	      31	    0.00	load/gradients/AddN_11
   30.00	      30	      30	    0.00	load/gradients/AddN_1
   29.00	      29	      29	    0.00	load/gradients/final_layer_type_1/GemmLayer_grad/MatmulNt
   29.00	      29	      29	    0.00	load/gradients/layer_2_type_1/GemmTanhLayer_grad/mul
   29.00	      29	      29	    0.00	load/gradients/layer_1_type_1/GemmTanhLayer_grad/mul
   29.00	      29	      29	    0.00	load/gradients/layer_0_type_1/GemmTanhLayer_grad/mul
   28.00	      28	      28	    0.00	load/add_5
   28.00	      28	      28	    0.00	load/gradients/AddN_5
   27.00	      27	      27	    0.00	load/add_6
   27.00	      27	      27	    0.00	load/final_layer_type_0/GemmLayer
   27.00	      27	      27	    0.00	load/gradients/AddN_3
   23.00	      23	      23	    0.00	load/filter_type_0/mul
   23.00	      23	      23	    0.00	load/gradients/filter_type_0/mul_grad/Mul
   22.00	      22	      22	    0.00	load/gradients/layer_0_type_1/GemmTanhLayer_grad/sub
   22.00	      22	      22	    0.00	load/gradients/AddN_9
   21.00	      21	      21	    0.00	load/filter_type_0/Slice
   21.00	      21	      21	    0.00	load/gradients/AddN_8
   18.00	      18	      18	    0.00	load/strided_slice_30
   17.00	      17	      17	    0.00	load/gradients/AddN
   16.00	      16	      16	    0.00	load/add_2
   16.00	      16	      16	    0.00	load/add_3

Top k op type
average time	percentage	op type
43041.00	    0.43	TabulateFusionGrad
23793.00	    0.24	TabulateFusion
 9632.00	    0.10	ProdEnvMatA
 7018.00	    0.07	MatmulNt
 5945.00	    0.06	GemmTanhLayer
 2366.00	    0.02	MatMul
 1856.00	    0.02	ProdVirialSeA
 1499.00	    0.01	Pad
 1423.00	    0.01	Slice
  838.00	    0.01	ProdForceSeA
  757.00	    0.01	AddN
  456.00	    0.00	concat
  443.00	    0.00	mul
  260.00	    0.00	Mul
  216.00	    0.00	Shape
  199.00	    0.00	Reshape
  197.00	    0.00	add
  105.00	    0.00	sub
  105.00	    0.00	strided
   78.00	    0.00	shape
