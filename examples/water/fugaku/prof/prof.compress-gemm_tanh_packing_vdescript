WARNING:tensorflow:From /home/hp200266/u01036/gzq/fj_software/tensorflow/TensorFlow-2.2.0/lib/python3.8/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
Instructions for updating:
non-resource variables are not supported in the long term
OMP: Warning #181: OMP_PROC_BIND: ignored because KMP_AFFINITY has been defined
WARNING:tensorflow:From /home/hp200266/u01036/gzq/fj_software/tensorflow/TensorFlow-2.2.0/lib/python3.8/site-packages/tensorflow/python/profiler/internal/flops_registry.py:142: tensor_shape_from_node_def_name (from tensorflow.python.framework.graph_util_impl) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.compat.v1.graph_util.tensor_shape_from_node_def_name`
DEEPMD WARNING From /home/hp200266/u01036/gzq/fj_software/tensorflow/TensorFlow-2.2.0/lib/python3.8/site-packages/tensorflow/python/profiler/internal/flops_registry.py:142: tensor_shape_from_node_def_name (from tensorflow.python.framework.graph_util_impl) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.compat.v1.graph_util.tensor_shape_from_node_def_name`
73 ops no flops stats due to incomplete shapes.
DEEPMD INFO    # ---------------output of dp test--------------- 
DEEPMD INFO    # testing system : ../data/data_3
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Parsing Inputs...
generating trace file.

******************************************************
Timeline file is written to ./profiler.json_0.
Open a Chrome browser, enter URL chrome://tracing and load the timeline file.
******************************************************
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.

=========================Options=============================
-max_depth                  10
-min_bytes                  0
-min_peak_bytes             0
-min_residual_bytes         0
-min_output_bytes           0
-min_micros                 0
-min_accelerator_micros     0
-min_cpu_micros             0
-min_params                 0
-min_float_ops              0
-min_occurrence             0
-step                       -1
-order_by                   micros
-account_type_regexes       .*
-start_name_regexes         .*
-trim_name_regexes          
-show_name_regexes          .*
-hide_name_regexes          
-account_displayed_op_only  false
-select                     bytes,float_ops,micros,occurrence
-output                     stdout:

==================Model Analysis Report======================

Doc:
op: The nodes are operation kernel type, such as MatMul, Conv2D. Graph nodes belonging to the same type are aggregated together.
requested bytes: The memory requested by the operation, accumulatively.
flops: Number of float operations. Note: Please read the implementation for the math behind it.
total execution time: Sum of accelerator execution time and cpu execution time.
cpu execution time: The time from the start to the end of the operation. It's the sum of actual cpu run time plus the time that it spends waiting if part of computation is launched asynchronously.
accelerator execution time: Time spent executing on the accelerator. This is normally measured by the actual hardware library.
occurrence: The number of times it occurs

Profile:
node name | requested bytes | total execution time | accelerator execution time | cpu execution time | # float_ops | op occurrence (run|defined)
TabulateFusionGrad              1.06MB (100.00%, 1.25%),      43.68ms (100.00%, 42.88%),             0us (0.00%, 0.00%),      43.68ms (100.00%, 42.88%),   0 float_ops (100.00%, 0.00%),        4|4
TabulateFusion                   1.57MB (98.75%, 1.86%),       24.40ms (57.12%, 23.95%),             0us (0.00%, 0.00%),       24.40ms (57.12%, 23.95%),   0 float_ops (100.00%, 0.00%),        4|4
ProdEnvMatA                      4.13MB (96.89%, 4.88%),         9.65ms (33.17%, 9.47%),             0us (0.00%, 0.00%),         9.65ms (33.17%, 9.47%),   0 float_ops (100.00%, 0.00%),        1|1
MatmulNt                         4.25MB (92.00%, 5.02%),         6.92ms (23.70%, 6.79%),             0us (0.00%, 0.00%),         6.92ms (23.70%, 6.79%),   0 float_ops (100.00%, 0.00%),        8|8
GemmTanhLayer                    1.11MB (86.98%, 1.31%),         5.95ms (16.90%, 5.84%),             0us (0.00%, 0.00%),         5.95ms (16.90%, 5.84%),   0 float_ops (100.00%, 0.00%),        6|6
BatchMatMulV2                    4.03MB (85.67%, 4.76%),         2.29ms (11.06%, 2.25%),             0us (0.00%, 0.00%),         2.29ms (11.06%, 2.25%), 106.95m float_ops (100.00%, 98.52%),        6|6
ProdVirialSeA                   13.90KB (80.91%, 0.02%),          1.85ms (8.81%, 1.81%),             0us (0.00%, 0.00%),          1.85ms (8.81%, 1.81%),     0 float_ops (1.48%, 0.00%),        1|1
Pad                            11.32MB (80.89%, 13.37%),          1.49ms (7.00%, 1.46%),             0us (0.00%, 0.00%),          1.49ms (7.00%, 1.46%),     0 float_ops (1.48%, 0.00%),      14|14
Slice                            8.30MB (67.52%, 9.81%),          1.41ms (5.53%, 1.38%),             0us (0.00%, 0.00%),          1.41ms (5.53%, 1.38%),     0 float_ops (1.48%, 0.00%),      18|18
ProdForceSeA                     4.61KB (57.71%, 0.01%),           840us (4.15%, 0.82%),             0us (0.00%, 0.00%),           840us (4.15%, 0.82%),     0 float_ops (1.48%, 0.00%),        1|1
AddN                                  0B (0.00%, 0.00%),           756us (3.32%, 0.74%),             0us (0.00%, 0.00%),           756us (3.32%, 0.74%), 809.47k float_ops (1.48%, 0.75%),      14|14

======================End of Report==========================
DEEPMD INFO    # number of test data : 1 
DEEPMD INFO    Energy RMSE        : 6.076734e-02 eV
DEEPMD INFO    Energy RMSE/Natoms : 3.164966e-04 eV
DEEPMD INFO    Force  RMSE        : 6.465624e-02 eV/A
DEEPMD INFO    Virial RMSE        : 5.265184e+00 eV
DEEPMD INFO    Virial RMSE/Natoms : 2.742283e-02 eV
DEEPMD INFO    # ----------------------------------------------- 
profile : ture
dp model type : ener
OMP: Warning #181: OMP_PROC_BIND: ignored because KMP_AFFINITY has been defined
INFO: You are running LIKWID in a cpuset with 50 CPUs. Taking given IDs as logical ID in cpuset
[1;34m[likwid-pin] Main PID -> hwthread 12 - OK[0m

Top k op
average time	min time	max time	percentage	op name
19001.00	   19001	   19001	    0.19	load/gradients/filter_type_1/TabulateFusion_1_grad/TabulateFusionGrad
10538.00	   10538	   10538	    0.10	load/filter_type_1/TabulateFusion_1
10071.00	   10071	   10071	    0.10	load/gradients/filter_type_1/TabulateFusion_grad/TabulateFusionGrad
 9804.00	    9804	    9804	    0.10	load/gradients/filter_type_0/TabulateFusion_1_grad/TabulateFusionGrad
 9652.00	    9652	    9652	    0.09	load/ProdEnvMatA
 5674.00	    5674	    5674	    0.06	load/filter_type_1/TabulateFusion
 5473.00	    5473	    5473	    0.05	load/filter_type_0/TabulateFusion_1
 4804.00	    4804	    4804	    0.05	load/gradients/filter_type_0/TabulateFusion_grad/TabulateFusionGrad
 3440.00	    3440	    3440	    0.03	load/gradients/layer_0_type_1/GemmTanhLayer_grad/MatmulNt
 2999.00	    2999	    2999	    0.03	load/layer_0_type_1/GemmTanhLayer
 2713.00	    2713	    2713	    0.03	load/filter_type_0/TabulateFusion
 2098.00	    2098	    2098	    0.02	load/gradients/layer_0_type_0/GemmTanhLayer_grad/MatmulNt
 1847.00	    1847	    1847	    0.02	load/ProdVirialSeA
 1653.00	    1653	    1653	    0.02	load/layer_0_type_0/GemmTanhLayer
  840.00	     840	     840	    0.01	load/ProdForceSeA
  745.00	     745	     745	    0.01	load/filter_type_1/MatMul
  547.00	     547	     547	    0.01	load/gradients/filter_type_1/MatMul_grad/MatMul
  420.00	     420	     420	    0.00	load/layer_1_type_1/GemmTanhLayer
  407.00	     407	     407	    0.00	load/layer_2_type_1/GemmTanhLayer
  395.00	     395	     395	    0.00	load/filter_type_0/MatMul
  392.00	     392	     392	    0.00	load/gradients/layer_2_type_1/GemmTanhLayer_grad/MatmulNt
  391.00	     391	     391	    0.00	load/gradients/layer_1_type_1/GemmTanhLayer_grad/MatmulNt
  338.00	     338	     338	    0.00	load/concat
  316.00	     316	     316	    0.00	load/gradients/AddN_4
  282.00	     282	     282	    0.00	load/gradients/filter_type_0/MatMul_grad/MatMul
  279.00	     279	     279	    0.00	load/gradients/layer_2_type_0/GemmTanhLayer_grad/MatmulNt
  259.00	     259	     259	    0.00	load/gradients/Slice_3_grad/Pad
  257.00	     257	     257	    0.00	load/gradients/layer_1_type_0/GemmTanhLayer_grad/MatmulNt
  256.00	     256	     256	    0.00	load/gradients/filter_type_1/Slice_3_grad/Pad
  238.00	     238	     238	    0.00	load/layer_1_type_0/GemmTanhLayer
  237.00	     237	     237	    0.00	load/layer_2_type_0/GemmTanhLayer
  230.00	     230	     230	    0.00	load/gradients/Slice_2_grad/Pad
  228.00	     228	     228	    0.00	load/gradients/concat_grad/Slice_1
  222.00	     222	     222	    0.00	load/Slice_3
  209.00	     209	     209	    0.00	load/gradients/filter_type_1/MatMul_grad/MatMul_1
  166.00	     166	     166	    0.00	load/filter_type_1/Slice_3
  138.00	     138	     138	    0.00	load/gradients/filter_type_1/Slice_1_grad/Pad
  134.00	     134	     134	    0.00	load/gradients/filter_type_0/Slice_3_grad/Pad
  119.00	     119	     119	    0.00	load/gradients/concat_grad/Slice
  118.00	     118	     118	    0.00	load/Slice_2
  114.00	     114	     114	    0.00	load/gradients/filter_type_0/MatMul_grad/MatMul_1
   85.00	      85	      85	    0.00	load/filter_type_1/Slice_1
   84.00	      84	      84	    0.00	load/filter_type_0/Slice_3
   81.00	      81	      81	    0.00	load/gradients/AddN_13
   74.00	      74	      74	    0.00	load/gradients/Slice_1_grad/Pad
   73.00	      73	      73	    0.00	load/gradients/filter_type_0/Slice_1_grad/Pad
   68.00	      68	      68	    0.00	load/gradients/Slice_grad/Pad
   67.00	      67	      67	    0.00	load/Slice_1
   65.00	      65	      65	    0.00	load/filter_type_1/add
   65.00	      65	      65	    0.00	load/layer_1_type_1/mul
   61.00	      61	      61	    0.00	load/gradients/AddN_12
   59.00	      59	      59	    0.00	load/gradients/layer_2_type_1/mul_grad/Mul
   58.00	      58	      58	    0.00	load/layer_2_type_1/mul
   56.00	      56	      56	    0.00	load/gradients/layer_1_type_1/mul_grad/Mul
   56.00	      56	      56	    0.00	load/gradients/filter_type_1/Slice_4_grad/Pad
   54.00	      54	      54	    0.00	load/gradients/AddN_6
   53.00	      53	      53	    0.00	load/gradients/filter_type_1/Slice_2_grad/Pad
   53.00	      53	      53	    0.00	load/gradients/filter_type_1/Slice_grad/Pad
   52.00	      52	      52	    0.00	load/filter_type_1/Slice_4
   50.00	      50	      50	    0.00	load/filter_type_1/Slice_2
   46.00	      46	      46	    0.00	load/filter_type_0/Slice_1
   45.00	      45	      45	    0.00	load/final_layer_type_1/GemmLayer
   44.00	      44	      44	    0.00	load/gradients/layer_2_type_0/mul_grad/Mul
   42.00	      42	      42	    0.00	load/layer_1_type_0/mul
   42.00	      42	      42	    0.00	load/gradients/filter_type_1/mul_grad/Mul
   41.00	      41	      41	    0.00	load/filter_type_1/mul
   39.00	      39	      39	    0.00	load/Slice
   38.00	      38	      38	    0.00	load/gradients/AddN_10
   36.00	      36	      36	    0.00	load/filter_type_0/add
   36.00	      36	      36	    0.00	load/gradients/layer_1_type_0/mul_grad/Mul
   35.00	      35	      35	    0.00	load/layer_2_type_0/mul
   34.00	      34	      34	    0.00	load/filter_type_1/Slice
   34.00	      34	      34	    0.00	load/gradients/final_layer_type_0/GemmLayer_grad/MatmulNt
   33.00	      33	      33	    0.00	load/gradients/layer_0_type_1/GemmTanhLayer_grad/Square
   33.00	      33	      33	    0.00	load/gradients/filter_type_0/Slice_4_grad/Pad
   32.00	      32	      32	    0.00	load/filter_type_0/Slice_4
   32.00	      32	      32	    0.00	load/gradients/filter_type_0/Slice_2_grad/Pad
   31.00	      31	      31	    0.00	load/gradients/filter_type_0/Slice_grad/Pad
   31.00	      31	      31	    0.00	load/gradients/AddN_11
   30.00	      30	      30	    0.00	load/filter_type_0/Slice_2
   30.00	      30	      30	    0.00	load/gradients/final_layer_type_1/GemmLayer_grad/MatmulNt
   29.00	      29	      29	    0.00	load/gradients/AddN_1
   28.00	      28	      28	    0.00	load/add_5
   28.00	      28	      28	    0.00	load/final_layer_type_0/GemmLayer
   28.00	      28	      28	    0.00	load/gradients/layer_2_type_1/GemmTanhLayer_grad/mul
   28.00	      28	      28	    0.00	load/gradients/layer_1_type_1/GemmTanhLayer_grad/mul
   28.00	      28	      28	    0.00	load/gradients/AddN_3
   28.00	      28	      28	    0.00	load/gradients/layer_0_type_1/GemmTanhLayer_grad/mul
   28.00	      28	      28	    0.00	load/gradients/AddN_5
   26.00	      26	      26	    0.00	load/add_6
   23.00	      23	      23	    0.00	load/filter_type_0/mul
   23.00	      23	      23	    0.00	load/gradients/layer_0_type_1/GemmTanhLayer_grad/sub
   23.00	      23	      23	    0.00	load/gradients/filter_type_0/mul_grad/Mul
   22.00	      22	      22	    0.00	load/gradients/AddN_9
   21.00	      21	      21	    0.00	load/filter_type_0/Slice
   21.00	      21	      21	    0.00	load/gradients/AddN_8
   18.00	      18	      18	    0.00	load/gradients/AddN
   17.00	      17	      17	    0.00	load/strided_slice_30
   16.00	      16	      16	    0.00	load/add_2
   16.00	      16	      16	    0.00	load/add_3

Top k op type
average time	percentage	op type
43680.00	    0.43	TabulateFusionGrad
24398.00	    0.24	TabulateFusion
 9652.00	    0.09	ProdEnvMatA
 6921.00	    0.07	MatmulNt
 5954.00	    0.06	GemmTanhLayer
 2292.00	    0.02	MatMul
 1847.00	    0.02	ProdVirialSeA
 1490.00	    0.01	Pad
 1410.00	    0.01	Slice
  840.00	    0.01	ProdForceSeA
  756.00	    0.01	AddN
  455.00	    0.00	concat
  444.00	    0.00	mul
  260.00	    0.00	Mul
  216.00	    0.00	Shape
  194.00	    0.00	add
  194.00	    0.00	Reshape
   97.00	    0.00	sub
   96.00	    0.00	strided
   76.00	    0.00	shape
