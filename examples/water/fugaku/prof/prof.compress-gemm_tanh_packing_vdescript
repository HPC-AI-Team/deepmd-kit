WARNING:tensorflow:From /home/hp200266/u01036/gzq/fj_software/tensorflow/TensorFlow-2.2.0/lib/python3.8/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
Instructions for updating:
non-resource variables are not supported in the long term
OMP: Warning #181: OMP_PROC_BIND: ignored because KMP_AFFINITY has been defined
WARNING:tensorflow:From /home/hp200266/u01036/gzq/fj_software/tensorflow/TensorFlow-2.2.0/lib/python3.8/site-packages/tensorflow/python/profiler/internal/flops_registry.py:142: tensor_shape_from_node_def_name (from tensorflow.python.framework.graph_util_impl) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.compat.v1.graph_util.tensor_shape_from_node_def_name`
DEEPMD WARNING From /home/hp200266/u01036/gzq/fj_software/tensorflow/TensorFlow-2.2.0/lib/python3.8/site-packages/tensorflow/python/profiler/internal/flops_registry.py:142: tensor_shape_from_node_def_name (from tensorflow.python.framework.graph_util_impl) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.compat.v1.graph_util.tensor_shape_from_node_def_name`
73 ops no flops stats due to incomplete shapes.
DEEPMD INFO    # ---------------output of dp test--------------- 
DEEPMD INFO    # testing system : ../data/data_3
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Parsing Inputs...
generating trace file.

******************************************************
Timeline file is written to ./profiler.json_0.
Open a Chrome browser, enter URL chrome://tracing and load the timeline file.
******************************************************
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.

=========================Options=============================
-max_depth                  10
-min_bytes                  0
-min_peak_bytes             0
-min_residual_bytes         0
-min_output_bytes           0
-min_micros                 0
-min_accelerator_micros     0
-min_cpu_micros             0
-min_params                 0
-min_float_ops              0
-min_occurrence             0
-step                       -1
-order_by                   micros
-account_type_regexes       .*
-start_name_regexes         .*
-trim_name_regexes          
-show_name_regexes          .*
-hide_name_regexes          
-account_displayed_op_only  false
-select                     bytes,float_ops,micros,occurrence
-output                     stdout:

==================Model Analysis Report======================

Doc:
op: The nodes are operation kernel type, such as MatMul, Conv2D. Graph nodes belonging to the same type are aggregated together.
requested bytes: The memory requested by the operation, accumulatively.
flops: Number of float operations. Note: Please read the implementation for the math behind it.
total execution time: Sum of accelerator execution time and cpu execution time.
cpu execution time: The time from the start to the end of the operation. It's the sum of actual cpu run time plus the time that it spends waiting if part of computation is launched asynchronously.
accelerator execution time: Time spent executing on the accelerator. This is normally measured by the actual hardware library.
occurrence: The number of times it occurs

Profile:
node name | requested bytes | total execution time | accelerator execution time | cpu execution time | # float_ops | op occurrence (run|defined)
TabulateFusionGrad              1.06MB (100.00%, 1.24%),      43.12ms (100.00%, 42.51%),             0us (0.00%, 0.00%),      43.12ms (100.00%, 42.51%),   0 float_ops (100.00%, 0.00%),        4|4
TabulateFusion                   1.57MB (98.76%, 1.84%),       23.87ms (57.49%, 23.54%),             0us (0.00%, 0.00%),       23.87ms (57.49%, 23.54%),   0 float_ops (100.00%, 0.00%),        4|4
ProdEnvMatA                      4.13MB (96.92%, 4.84%),         9.71ms (33.95%, 9.57%),             0us (0.00%, 0.00%),         9.71ms (33.95%, 9.57%),   0 float_ops (100.00%, 0.00%),        1|1
MatmulNt                         4.25MB (92.08%, 4.97%),         7.10ms (24.38%, 7.00%),             0us (0.00%, 0.00%),         7.10ms (24.38%, 7.00%),   0 float_ops (100.00%, 0.00%),        8|8
GemmLayer                        1.11MB (87.11%, 1.30%),         5.82ms (17.38%, 5.74%),             0us (0.00%, 0.00%),         5.82ms (17.38%, 5.74%),   0 float_ops (100.00%, 0.00%),        8|8
BatchMatMulV2                    4.03MB (85.82%, 4.72%),         2.43ms (11.64%, 2.40%),             0us (0.00%, 0.00%),         2.43ms (11.64%, 2.40%), 106.95m float_ops (100.00%, 98.52%),        6|6
ProdVirialSeA                   13.90KB (81.10%, 0.02%),          2.01ms (9.24%, 1.98%),             0us (0.00%, 0.00%),          2.01ms (9.24%, 1.98%),     0 float_ops (1.48%, 0.00%),        1|1
Pad                            11.32MB (81.08%, 13.24%),          1.50ms (7.26%, 1.47%),             0us (0.00%, 0.00%),          1.50ms (7.26%, 1.47%),     0 float_ops (1.48%, 0.00%),      14|14
Slice                            8.30MB (67.84%, 9.71%),          1.42ms (5.79%, 1.40%),             0us (0.00%, 0.00%),          1.42ms (5.79%, 1.40%),     0 float_ops (1.48%, 0.00%),      18|18
ProdForceSeA                     4.61KB (58.13%, 0.01%),           824us (4.38%, 0.81%),             0us (0.00%, 0.00%),           824us (4.38%, 0.81%),     0 float_ops (1.48%, 0.00%),        1|1
AddN                                  0B (0.00%, 0.00%),           754us (3.57%, 0.74%),             0us (0.00%, 0.00%),           754us (3.57%, 0.74%), 809.47k float_ops (1.48%, 0.75%),      14|14

======================End of Report==========================
DEEPMD INFO    # number of test data : 1 
DEEPMD INFO    Energy RMSE        : 1.704136e-01 eV
DEEPMD INFO    Energy RMSE/Natoms : 8.875711e-04 eV
DEEPMD INFO    Force  RMSE        : 3.364325e-01 eV/A
DEEPMD INFO    Virial RMSE        : 1.419113e+02 eV
DEEPMD INFO    Virial RMSE/Natoms : 7.391212e-01 eV
DEEPMD INFO    # ----------------------------------------------- 
profile : ture
dp model type : ener
OMP: Warning #181: OMP_PROC_BIND: ignored because KMP_AFFINITY has been defined
INFO: You are running LIKWID in a cpuset with 50 CPUs. Taking given IDs as logical ID in cpuset
[1;34m[likwid-pin] Main PID -> hwthread 12 - OK[0m

Top k op
average time	min time	max time	percentage	op name
18798.00	   18798	   18798	    0.19	load/gradients/filter_type_1/TabulateFusion_1_grad/TabulateFusionGrad
10351.00	   10351	   10351	    0.10	load/filter_type_1/TabulateFusion_1
 9929.00	    9929	    9929	    0.10	load/gradients/filter_type_1/TabulateFusion_grad/TabulateFusionGrad
 9706.00	    9706	    9706	    0.10	load/ProdEnvMatA
 9661.00	    9661	    9661	    0.10	load/gradients/filter_type_0/TabulateFusion_1_grad/TabulateFusionGrad
 5553.00	    5553	    5553	    0.05	load/filter_type_1/TabulateFusion
 5326.00	    5326	    5326	    0.05	load/filter_type_0/TabulateFusion_1
 4727.00	    4727	    4727	    0.05	load/gradients/filter_type_0/TabulateFusion_grad/TabulateFusionGrad
 3543.00	    3543	    3543	    0.04	load/gradients/layer_0_type_1/GemmLayer_grad/MatmulNt
 2954.00	    2954	    2954	    0.03	load/layer_0_type_1/GemmLayer
 2639.00	    2639	    2639	    0.03	load/filter_type_0/TabulateFusion
 2177.00	    2177	    2177	    0.02	load/gradients/layer_0_type_0/GemmLayer_grad/MatmulNt
 2006.00	    2006	    2006	    0.02	load/ProdVirialSeA
 1639.00	    1639	    1639	    0.02	load/layer_0_type_0/GemmLayer
  824.00	     824	     824	    0.01	load/ProdForceSeA
  823.00	     823	     823	    0.01	load/filter_type_1/MatMul
  601.00	     601	     601	    0.01	load/gradients/filter_type_1/MatMul_grad/MatMul
  397.00	     397	     397	    0.00	load/gradients/layer_2_type_1/GemmLayer_grad/MatmulNt
  394.00	     394	     394	    0.00	load/filter_type_0/MatMul
  392.00	     392	     392	    0.00	load/gradients/layer_1_type_1/GemmLayer_grad/MatmulNt
  368.00	     368	     368	    0.00	load/layer_1_type_1/GemmLayer
  365.00	     365	     365	    0.00	load/layer_2_type_1/GemmLayer
  338.00	     338	     338	    0.00	load/concat
  317.00	     317	     317	    0.00	load/gradients/AddN_4
  280.00	     280	     280	    0.00	load/gradients/filter_type_0/MatMul_grad/MatMul
  275.00	     275	     275	    0.00	load/gradients/layer_2_type_0/GemmLayer_grad/MatmulNt
  262.00	     262	     262	    0.00	load/gradients/Slice_3_grad/Pad
  256.00	     256	     256	    0.00	load/gradients/filter_type_1/Slice_3_grad/Pad
  255.00	     255	     255	    0.00	load/gradients/layer_1_type_0/GemmLayer_grad/MatmulNt
  230.00	     230	     230	    0.00	load/gradients/Slice_2_grad/Pad
  226.00	     226	     226	    0.00	load/gradients/concat_grad/Slice_1
  222.00	     222	     222	    0.00	load/Slice_3
  221.00	     221	     221	    0.00	load/gradients/filter_type_1/MatMul_grad/MatMul_1
  212.00	     212	     212	    0.00	load/layer_1_type_0/GemmLayer
  212.00	     212	     212	    0.00	load/layer_2_type_0/GemmLayer
  172.00	     172	     172	    0.00	load/filter_type_1/Slice_3
  139.00	     139	     139	    0.00	load/gradients/filter_type_1/Slice_1_grad/Pad
  135.00	     135	     135	    0.00	load/gradients/filter_type_0/Slice_3_grad/Pad
  119.00	     119	     119	    0.00	load/gradients/concat_grad/Slice
  118.00	     118	     118	    0.00	load/Slice_2
  115.00	     115	     115	    0.00	load/gradients/filter_type_0/MatMul_grad/MatMul_1
   87.00	      87	      87	    0.00	load/filter_type_1/Slice_1
   86.00	      86	      86	    0.00	load/filter_type_0/Slice_3
   82.00	      82	      82	    0.00	load/gradients/AddN_13
   75.00	      75	      75	    0.00	load/layer_0_type_1/FastTanh
   74.00	      74	      74	    0.00	load/gradients/Slice_1_grad/Pad
   73.00	      73	      73	    0.00	load/gradients/filter_type_0/Slice_1_grad/Pad
   69.00	      69	      69	    0.00	load/layer_1_type_1/FastTanh
   69.00	      69	      69	    0.00	load/gradients/Slice_grad/Pad
   68.00	      68	      68	    0.00	load/layer_2_type_1/FastTanh
   67.00	      67	      67	    0.00	load/Slice_1
   64.00	      64	      64	    0.00	load/filter_type_1/add
   63.00	      63	      63	    0.00	load/layer_1_type_1/mul
   61.00	      61	      61	    0.00	load/gradients/AddN_12
   58.00	      58	      58	    0.00	load/gradients/layer_2_type_1/mul_grad/Mul
   56.00	      56	      56	    0.00	load/gradients/filter_type_1/Slice_4_grad/Pad
   55.00	      55	      55	    0.00	load/layer_2_type_1/mul
   55.00	      55	      55	    0.00	load/gradients/layer_1_type_1/mul_grad/Mul
   54.00	      54	      54	    0.00	load/filter_type_1/Slice_4
   54.00	      54	      54	    0.00	load/gradients/AddN_6
   54.00	      54	      54	    0.00	load/gradients/filter_type_1/Slice_2_grad/Pad
   53.00	      53	      53	    0.00	load/gradients/filter_type_1/Slice_grad/Pad
   50.00	      50	      50	    0.00	load/filter_type_1/Slice_2
   46.00	      46	      46	    0.00	load/filter_type_0/Slice_1
   45.00	      45	      45	    0.00	load/final_layer_type_1/GemmLayer
   44.00	      44	      44	    0.00	load/gradients/layer_2_type_0/mul_grad/Mul
   42.00	      42	      42	    0.00	load/filter_type_1/mul
   42.00	      42	      42	    0.00	load/gradients/filter_type_1/mul_grad/Mul
   41.00	      41	      41	    0.00	load/layer_1_type_0/mul
   39.00	      39	      39	    0.00	load/Slice
   39.00	      39	      39	    0.00	load/layer_0_type_0/FastTanh
   38.00	      38	      38	    0.00	load/layer_1_type_0/FastTanh
   38.00	      38	      38	    0.00	load/layer_2_type_0/FastTanh
   38.00	      38	      38	    0.00	load/gradients/AddN_10
   35.00	      35	      35	    0.00	load/gradients/layer_1_type_0/mul_grad/Mul
   34.00	      34	      34	    0.00	load/filter_type_0/add
   34.00	      34	      34	    0.00	load/filter_type_1/Slice
   33.00	      33	      33	    0.00	load/layer_2_type_0/mul
   32.00	      32	      32	    0.00	load/filter_type_0/Slice_4
   32.00	      32	      32	    0.00	load/gradients/final_layer_type_0/GemmLayer_grad/MatmulNt
   32.00	      32	      32	    0.00	load/gradients/filter_type_0/Slice_4_grad/Pad
   31.00	      31	      31	    0.00	load/gradients/filter_type_0/Slice_2_grad/Pad
   31.00	      31	      31	    0.00	load/gradients/filter_type_0/Slice_grad/Pad
   30.00	      30	      30	    0.00	load/filter_type_0/Slice_2
   30.00	      30	      30	    0.00	load/gradients/AddN_11
   29.00	      29	      29	    0.00	load/gradients/final_layer_type_1/GemmLayer_grad/MatmulNt
   29.00	      29	      29	    0.00	load/gradients/layer_2_type_1/FastTanh_grad/mul
   29.00	      29	      29	    0.00	load/gradients/AddN_1
   29.00	      29	      29	    0.00	load/gradients/layer_1_type_1/FastTanh_grad/mul
   28.00	      28	      28	    0.00	load/gradients/layer_0_type_1/FastTanh_grad/mul
   28.00	      28	      28	    0.00	load/gradients/AddN_5
   27.00	      27	      27	    0.00	load/add_5
   27.00	      27	      27	    0.00	load/final_layer_type_0/GemmLayer
   27.00	      27	      27	    0.00	load/gradients/AddN_3
   26.00	      26	      26	    0.00	load/add_6
   23.00	      23	      23	    0.00	load/filter_type_0/mul
   23.00	      23	      23	    0.00	load/gradients/filter_type_0/mul_grad/Mul
   21.00	      21	      21	    0.00	load/filter_type_0/Slice
   21.00	      21	      21	    0.00	load/gradients/AddN_9
   21.00	      21	      21	    0.00	load/gradients/AddN_8

Top k op type
average time	percentage	op type
43115.00	    0.43	TabulateFusionGrad
23869.00	    0.24	TabulateFusion
 9706.00	    0.10	ProdEnvMatA
 7100.00	    0.07	MatmulNt
 5822.00	    0.06	GemmLayer
 2434.00	    0.02	MatMul
 2006.00	    0.02	ProdVirialSeA
 1495.00	    0.01	Pad
 1422.00	    0.01	Slice
  824.00	    0.01	ProdForceSeA
  754.00	    0.01	AddN
  453.00	    0.00	concat
  438.00	    0.00	mul
  327.00	    0.00	FastTanh
  257.00	    0.00	Mul
  209.00	    0.00	Shape
  199.00	    0.00	Reshape
  189.00	    0.00	add
  103.00	    0.00	strided
   82.00	    0.00	sub
