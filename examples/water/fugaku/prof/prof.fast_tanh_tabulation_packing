[WARN] xos LPG 2003 - Failed to map HugeTLBfs for data/bss: Layout problem with segments 0 and 1:
	Segments would overlap.
WARNING:tensorflow:From /home/hp200266/u01036/gzq/fj_software/tensorflow/TensorFlow-2.2.0/lib/python3.8/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
Instructions for updating:
non-resource variables are not supported in the long term
profile : ture
WARNING:tensorflow:From /home/hp200266/u01036/gzq/fj_software/tensorflow/TensorFlow-2.2.0/lib/python3.8/site-packages/tensorflow/python/profiler/internal/flops_registry.py:142: tensor_shape_from_node_def_name (from tensorflow.python.framework.graph_util_impl) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.compat.v1.graph_util.tensor_shape_from_node_def_name`
DEEPMD WARNING From /home/hp200266/u01036/gzq/fj_software/tensorflow/TensorFlow-2.2.0/lib/python3.8/site-packages/tensorflow/python/profiler/internal/flops_registry.py:142: tensor_shape_from_node_def_name (from tensorflow.python.framework.graph_util_impl) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.compat.v1.graph_util.tensor_shape_from_node_def_name`
73 ops no flops stats due to incomplete shapes.
Parsing Inputs...
dp model type : ener
DEEPMD INFO    # ---------------output of dp test---------------
DEEPMD INFO    # testing system : ../data/data_3
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
generating trace file.

******************************************************
Timeline file is written to ./profiler.json_0.
Open a Chrome browser, enter URL chrome://tracing and load the timeline file.
******************************************************
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.

=========================Options=============================
-max_depth                  10
-min_bytes                  0
-min_peak_bytes             0
-min_residual_bytes         0
-min_output_bytes           0
-min_micros                 0
-min_accelerator_micros     0
-min_cpu_micros             0
-min_params                 0
-min_float_ops              0
-min_occurrence             0
-step                       -1
-order_by                   micros
-account_type_regexes       .*
-start_name_regexes         .*
-trim_name_regexes
-show_name_regexes          .*
-hide_name_regexes
-account_displayed_op_only  false
-select                     bytes,float_ops,micros,occurrence
-output                     stdout:

==================Model Analysis Report======================
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.

Doc:
op: The nodes are operation kernel type, such as MatMul, Conv2D. Graph nodes belonging to the same type are aggregated together.
requested bytes: The memory requested by the operation, accumulatively.
flops: Number of float operations. Note: Please read the implementation for the math behind it.
total execution time: Sum of accelerator execution time and cpu execution time.
cpu execution time: The time from the start to the end of the operation. It's the sum of actual cpu run time plus the time that it spends waiting if part of computation is launched asynchronously.
accelerator execution time: Time spent executing on the accelerator. This is normally measured by the actual hardware library.
occurrence: The number of times it occurs

Profile:
node name | requested bytes | total execution time | accelerator execution time | cpu execution time | # float_ops | op occurrence (run|defined)
TabulateFusion                  1.57MB (100.00%, 1.83%),      20.25ms (100.00%, 32.26%),             0us (0.00%, 0.00%),      20.25ms (100.00%, 32.26%),   0 float_ops (100.00%, 0.00%),        4|4
TabulateFusionGrad               1.06MB (98.17%, 1.24%),       11.59ms (67.74%, 18.45%),             0us (0.00%, 0.00%),       11.59ms (67.74%, 18.45%),   0 float_ops (100.00%, 0.00%),        4|4
ProdEnvMatA                      4.13MB (96.93%, 4.82%),        8.53ms (49.29%, 13.58%),             0us (0.00%, 0.00%),        8.53ms (49.29%, 13.58%),   0 float_ops (100.00%, 0.00%),        1|1
MatmulNt                         4.25MB (92.11%, 4.96%),        6.44ms (35.70%, 10.26%),             0us (0.00%, 0.00%),        6.44ms (35.70%, 10.26%),   0 float_ops (100.00%, 0.00%),        8|8
GemmLayer                        1.11MB (87.15%, 1.29%),         5.28ms (25.45%, 8.42%),             0us (0.00%, 0.00%),         5.28ms (25.45%, 8.42%),   0 float_ops (100.00%, 0.00%),        8|8
BatchMatMulV2                    4.03MB (85.86%, 4.70%),         2.12ms (17.03%, 3.38%),             0us (0.00%, 0.00%),         2.12ms (17.03%, 3.38%), 106.95m float_ops (100.00%, 98.52%),        6|6
ProdVirialSeA                   13.90KB (81.15%, 0.02%),         1.70ms (13.65%, 2.71%),             0us (0.00%, 0.00%),         1.70ms (13.65%, 2.71%),     0 float_ops (1.48%, 0.00%),        1|1
Pad                            11.32MB (81.14%, 13.20%),         1.33ms (10.95%, 2.12%),             0us (0.00%, 0.00%),         1.33ms (10.95%, 2.12%),     0 float_ops (1.48%, 0.00%),      14|14
Slice                            8.30MB (67.94%, 9.68%),          1.30ms (8.82%, 2.07%),             0us (0.00%, 0.00%),          1.30ms (8.82%, 2.07%),     0 float_ops (1.48%, 0.00%),      18|18
ProdForceSeA                     4.61KB (58.25%, 0.01%),           747us (6.76%, 1.19%),             0us (0.00%, 0.00%),           747us (6.76%, 1.19%),     0 float_ops (1.48%, 0.00%),        1|1
AddN                                  0B (0.00%, 0.00%),           656us (5.57%, 1.04%),             0us (0.00%, 0.00%),           656us (5.57%, 1.04%), 809.47k float_ops (1.48%, 0.75%),      14|14

======================End of Report==========================
DEEPMD INFO    # number of test data : 1
DEEPMD INFO    Energy RMSE        : 7.471435e-02 eV
DEEPMD INFO    Energy RMSE/Natoms : 3.891372e-04 eV
DEEPMD INFO    Force  RMSE        : 5.845047e-02 eV/A
DEEPMD INFO    Virial RMSE        : 6.561504e+00 eV
DEEPMD INFO    Virial RMSE/Natoms : 3.417450e-02 eV
DEEPMD INFO    # -----------------------------------------------
++ python /home/hp200266/u01036/gzq/deepmd-kit/_skbuild/linux-aarch64-3.8/cmake-install/deepmd/tools/profiler_visualization_topk.py profiler
[WARN] xos LPG 2003 - Failed to map HugeTLBfs for data/bss: Layout problem with segments 0 and 1:
	Segments would overlap.
WARNING:tensorflow:From /home/hp200266/u01036/gzq/fj_software/tensorflow/TensorFlow-2.2.0/lib/python3.8/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
Instructions for updating:
non-resource variables are not supported in the long term

Top k op
average time	min time	max time	percentage	op name
 8801.00	    8801	    8801	    0.14	load/filter_type_1/TabulateFusion_1
 8528.00	    8528	    8528	    0.14	load/ProdEnvMatA
 5093.00	    5093	    5093	    0.08	load/gradients/filter_type_1/TabulateFusion_1_grad/TabulateFusionGrad
 4666.00	    4666	    4666	    0.07	load/filter_type_1/TabulateFusion
 4564.00	    4564	    4564	    0.07	load/filter_type_0/TabulateFusion_1
 3236.00	    3236	    3236	    0.05	load/gradients/layer_0_type_1/GemmLayer_grad/MatmulNt
 2746.00	    2746	    2746	    0.04	load/gradients/filter_type_1/TabulateFusion_grad/TabulateFusionGrad
 2675.00	    2675	    2675	    0.04	load/layer_0_type_1/GemmLayer
 2510.00	    2510	    2510	    0.04	load/gradients/filter_type_0/TabulateFusion_1_grad/TabulateFusionGrad
 2224.00	    2224	    2224	    0.04	load/filter_type_0/TabulateFusion
 1935.00	    1935	    1935	    0.03	load/gradients/layer_0_type_0/GemmLayer_grad/MatmulNt
 1699.00	    1699	    1699	    0.03	load/ProdVirialSeA
 1480.00	    1480	    1480	    0.02	load/layer_0_type_0/GemmLayer
 1238.00	    1238	    1238	    0.02	load/gradients/filter_type_0/TabulateFusion_grad/TabulateFusionGrad
  747.00	     747	     747	    0.01	load/ProdForceSeA
  695.00	     695	     695	    0.01	load/filter_type_1/MatMul
  501.00	     501	     501	    0.01	load/gradients/filter_type_1/MatMul_grad/MatMul
  364.00	     364	     364	    0.01	load/gradients/layer_2_type_1/GemmLayer_grad/MatmulNt
  363.00	     363	     363	    0.01	load/filter_type_0/MatMul
  359.00	     359	     359	    0.01	load/gradients/layer_1_type_1/GemmLayer_grad/MatmulNt
  340.00	     340	     340	    0.01	load/layer_1_type_1/GemmLayer
  334.00	     334	     334	    0.01	load/layer_2_type_1/GemmLayer
  304.00	     304	     304	    0.00	load/concat
  265.00	     265	     265	    0.00	load/gradients/AddN_4
  253.00	     253	     253	    0.00	load/gradients/filter_type_0/MatMul_grad/MatMul
  251.00	     251	     251	    0.00	load/gradients/layer_2_type_0/GemmLayer_grad/MatmulNt
  235.00	     235	     235	    0.00	load/gradients/layer_1_type_0/GemmLayer_grad/MatmulNt
  235.00	     235	     235	    0.00	load/gradients/filter_type_1/Slice_3_grad/Pad
  223.00	     223	     223	    0.00	load/gradients/Slice_3_grad/Pad
  209.00	     209	     209	    0.00	load/gradients/concat_grad/Slice_1
  204.00	     204	     204	    0.00	load/Slice_3
  196.00	     196	     196	    0.00	load/gradients/filter_type_1/MatMul_grad/MatMul_1
  194.00	     194	     194	    0.00	load/layer_1_type_0/GemmLayer
  193.00	     193	     193	    0.00	load/layer_2_type_0/GemmLayer
  186.00	     186	     186	    0.00	load/gradients/Slice_2_grad/Pad
  146.00	     146	     146	    0.00	load/filter_type_1/Slice_3
  127.00	     127	     127	    0.00	load/gradients/filter_type_1/Slice_1_grad/Pad
  125.00	     125	     125	    0.00	load/gradients/filter_type_0/Slice_3_grad/Pad
  112.00	     112	     112	    0.00	load/gradients/filter_type_0/MatMul_grad/MatMul_1
  108.00	     108	     108	    0.00	load/Slice_2
  107.00	     107	     107	    0.00	load/gradients/concat_grad/Slice
   78.00	      78	      78	    0.00	load/filter_type_0/Slice_3
   78.00	      78	      78	    0.00	load/filter_type_1/Slice_1
   73.00	      73	      73	    0.00	load/layer_0_type_1/FastTanh
   73.00	      73	      73	    0.00	load/gradients/AddN_13
   67.00	      67	      67	    0.00	load/gradients/filter_type_0/Slice_1_grad/Pad
   67.00	      67	      67	    0.00	load/gradients/Slice_1_grad/Pad
   63.00	      63	      63	    0.00	load/layer_2_type_1/FastTanh
   62.00	      62	      62	    0.00	load/Slice_1
   62.00	      62	      62	    0.00	load/layer_1_type_1/FastTanh
   61.00	      61	      61	    0.00	load/gradients/Slice_grad/Pad
   58.00	      58	      58	    0.00	load/layer_1_type_1/mul
   56.00	      56	      56	    0.00	load/filter_type_1/add
   52.00	      52	      52	    0.00	load/gradients/layer_2_type_1/mul_grad/Mul
   52.00	      52	      52	    0.00	load/gradients/layer_1_type_1/mul_grad/Mul
   52.00	      52	      52	    0.00	load/gradients/filter_type_1/Slice_4_grad/Pad
   52.00	      52	      52	    0.00	load/gradients/AddN_12
   51.00	      51	      51	    0.00	load/layer_2_type_1/mul
   51.00	      51	      51	    0.00	load/gradients/filter_type_1/Slice_grad/Pad
   49.00	      49	      49	    0.00	load/filter_type_1/Slice_4
   49.00	      49	      49	    0.00	load/gradients/AddN_6
   48.00	      48	      48	    0.00	load/gradients/filter_type_1/Slice_2_grad/Pad
   46.00	      46	      46	    0.00	load/filter_type_1/Slice_2
   43.00	      43	      43	    0.00	load/filter_type_0/Slice_1
   42.00	      42	      42	    0.00	load/final_layer_type_1/GemmLayer
   42.00	      42	      42	    0.00	load/gradients/layer_2_type_0/mul_grad/Mul
   38.00	      38	      38	    0.00	load/filter_type_1/mul
   38.00	      38	      38	    0.00	load/layer_0_type_0/FastTanh
   38.00	      38	      38	    0.00	load/layer_1_type_0/FastTanh
   38.00	      38	      38	    0.00	load/layer_1_type_0/mul
   38.00	      38	      38	    0.00	load/gradients/filter_type_1/mul_grad/Mul
   37.00	      37	      37	    0.00	load/Slice
   36.00	      36	      36	    0.00	load/layer_2_type_0/FastTanh
   35.00	      35	      35	    0.00	load/gradients/AddN_10
   33.00	      33	      33	    0.00	load/filter_type_0/add
   33.00	      33	      33	    0.00	load/gradients/layer_1_type_0/mul_grad/Mul
   32.00	      32	      32	    0.00	load/filter_type_1/Slice
   32.00	      32	      32	    0.00	load/gradients/final_layer_type_0/GemmLayer_grad/MatmulNt
   31.00	      31	      31	    0.00	load/filter_type_0/Slice_4
   31.00	      31	      31	    0.00	load/layer_2_type_0/mul
   31.00	      31	      31	    0.00	load/gradients/filter_type_0/Slice_4_grad/Pad
   30.00	      30	      30	    0.00	load/gradients/filter_type_0/Slice_2_grad/Pad
   30.00	      30	      30	    0.00	load/gradients/filter_type_0/Slice_grad/Pad
   29.00	      29	      29	    0.00	load/filter_type_0/Slice_2
   29.00	      29	      29	    0.00	load/gradients/final_layer_type_1/GemmLayer_grad/MatmulNt
   27.00	      27	      27	    0.00	load/gradients/AddN_11
   26.00	      26	      26	    0.00	load/gradients/layer_0_type_1/FastTanh_grad/Square
   26.00	      26	      26	    0.00	load/final_layer_type_0/GemmLayer
   26.00	      26	      26	    0.00	load/gradients/AddN_1
   25.00	      25	      25	    0.00	load/add_5
   25.00	      25	      25	    0.00	load/gradients/layer_2_type_1/FastTanh_grad/mul
   25.00	      25	      25	    0.00	load/gradients/AddN_3
   25.00	      25	      25	    0.00	load/gradients/AddN_5
   24.00	      24	      24	    0.00	load/add_6
   24.00	      24	      24	    0.00	load/gradients/layer_1_type_1/FastTanh_grad/mul
   24.00	      24	      24	    0.00	load/gradients/layer_0_type_1/FastTanh_grad/mul
   22.00	      22	      22	    0.00	load/filter_type_0/mul
   21.00	      21	      21	    0.00	load/gradients/layer_0_type_1/FastTanh_grad/sub
   21.00	      21	      21	    0.00	load/gradients/filter_type_0/mul_grad/Mul
   20.00	      20	      20	    0.00	load/filter_type_0/Slice

Top k op type
average time	percentage	op type
20255.00	    0.32	TabulateFusion
11587.00	    0.19	TabulateFusionGrad
 8528.00	    0.14	ProdEnvMatA
 6441.00	    0.10	MatmulNt
 5284.00	    0.08	GemmLayer
 2120.00	    0.03	MatMul
 1699.00	    0.03	ProdVirialSeA
 1333.00	    0.02	Pad
 1297.00	    0.02	Slice
  747.00	    0.01	ProdForceSeA
  656.00	    0.01	AddN
  431.00	    0.01	concat
  409.00	    0.01	mul
  310.00	    0.00	FastTanh
  238.00	    0.00	Mul
  236.00	    0.00	Shape
  212.00	    0.00	Reshape
  175.00	    0.00	add
  107.00	    0.00	sub
  107.00	    0.00	strided