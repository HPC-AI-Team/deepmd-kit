WARNING:tensorflow:From /home/hp200266/u01036/gzq/fj_software/tensorflow/TensorFlow-2.2.0/lib/python3.8/site-packages/tensorflow/python/compat/v2_compat.py:96: disable_resource_variables (from tensorflow.python.ops.variable_scope) is deprecated and will be removed in a future version.
Instructions for updating:
non-resource variables are not supported in the long term
OMP: Warning #181: OMP_PROC_BIND: ignored because KMP_AFFINITY has been defined
WARNING:tensorflow:From /home/hp200266/u01036/gzq/fj_software/tensorflow/TensorFlow-2.2.0/lib/python3.8/site-packages/tensorflow/python/profiler/internal/flops_registry.py:142: tensor_shape_from_node_def_name (from tensorflow.python.framework.graph_util_impl) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.compat.v1.graph_util.tensor_shape_from_node_def_name`
DEEPMD WARNING From /home/hp200266/u01036/gzq/fj_software/tensorflow/TensorFlow-2.2.0/lib/python3.8/site-packages/tensorflow/python/profiler/internal/flops_registry.py:142: tensor_shape_from_node_def_name (from tensorflow.python.framework.graph_util_impl) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.compat.v1.graph_util.tensor_shape_from_node_def_name`
153 ops no flops stats due to incomplete shapes.
DEEPMD INFO    # ---------------output of dp test--------------- 
DEEPMD INFO    # testing system : ../data/data_3
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Parsing Inputs...
generating trace file.

******************************************************
Timeline file is written to ./profiler.json_0.
Open a Chrome browser, enter URL chrome://tracing and load the timeline file.
******************************************************
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.
Incomplete shape.

=========================Options=============================
-max_depth                  10
-min_bytes                  0
-min_peak_bytes             0
-min_residual_bytes         0
-min_output_bytes           0
-min_micros                 0
-min_accelerator_micros     0
-min_cpu_micros             0
-min_params                 0
-min_float_ops              0
-min_occurrence             0
-step                       -1
-order_by                   micros
-account_type_regexes       .*
-start_name_regexes         .*
-trim_name_regexes          
-show_name_regexes          .*
-hide_name_regexes          
-account_displayed_op_only  false
-select                     bytes,float_ops,micros,occurrence
-output                     stdout:

==================Model Analysis Report======================

Doc:
op: The nodes are operation kernel type, such as MatMul, Conv2D. Graph nodes belonging to the same type are aggregated together.
requested bytes: The memory requested by the operation, accumulatively.
flops: Number of float operations. Note: Please read the implementation for the math behind it.
total execution time: Sum of accelerator execution time and cpu execution time.
cpu execution time: The time from the start to the end of the operation. It's the sum of actual cpu run time plus the time that it spends waiting if part of computation is launched asynchronously.
accelerator execution time: Time spent executing on the accelerator. This is normally measured by the actual hardware library.
occurrence: The number of times it occurs

Profile:
node name | requested bytes | total execution time | accelerator execution time | cpu execution time | # float_ops | op occurrence (run|defined)
GemmTanhLayer                 48.59MB (100.00%, 21.32%),      31.85ms (100.00%, 27.73%),             0us (0.00%, 0.00%),      31.85ms (100.00%, 27.73%),   0 float_ops (100.00%, 0.00%),      18|18
MatmulNt                       24.81MB (78.68%, 10.89%),       19.50ms (72.27%, 16.98%),             0us (0.00%, 0.00%),       19.50ms (72.27%, 16.98%),   0 float_ops (100.00%, 0.00%),      20|20
BatchMatMulV2                  33.58MB (67.79%, 14.74%),       12.76ms (55.29%, 11.11%),             0us (0.00%, 0.00%),       12.76ms (55.29%, 11.11%), 162.79m float_ops (100.00%, 86.92%),      18|18
Slice                          49.00MB (53.05%, 21.50%),        10.13ms (44.18%, 8.82%),             0us (0.00%, 0.00%),        10.13ms (44.18%, 8.82%),    0 float_ops (13.08%, 0.00%),      34|34
ProdEnvMatA                      4.13MB (31.54%, 1.81%),         9.65ms (35.36%, 8.40%),             0us (0.00%, 0.00%),         9.65ms (35.36%, 8.40%),    0 float_ops (13.08%, 0.00%),        1|1
Mul                              1.47MB (29.73%, 0.65%),         5.66ms (26.96%, 4.92%),             0us (0.00%, 0.00%),         5.66ms (26.96%, 4.92%), 6.45m float_ops (13.08%, 3.45%),      39|44
AddV2                                4B (29.08%, 0.00%),         4.38ms (22.03%, 3.82%),             0us (0.00%, 0.00%),         4.38ms (22.03%, 3.82%),     0 float_ops (9.63%, 0.00%),      15|16
ConcatV2                       43.85MB (29.08%, 19.24%),         4.24ms (18.22%, 3.69%),             0us (0.00%, 0.00%),         4.24ms (18.22%, 3.69%),     0 float_ops (9.63%, 0.00%),      24|24
Square                          999.42KB (9.84%, 0.44%),         3.79ms (14.52%, 3.30%),             0us (0.00%, 0.00%),         3.79ms (14.52%, 3.30%), 6.07m float_ops (9.63%, 3.24%),      18|18
Sub                                  56B (9.40%, 0.00%),         3.71ms (11.23%, 3.23%),             0us (0.00%, 0.00%),         3.71ms (11.23%, 3.23%), 6.07m float_ops (6.39%, 3.24%),      36|46
AddN                                  0B (0.00%, 0.00%),          3.52ms (8.00%, 3.07%),             0us (0.00%, 0.00%),          3.52ms (8.00%, 3.07%), 5.90m float_ops (3.15%, 3.15%),      22|22

======================End of Report==========================
DEEPMD INFO    # number of test data : 1 
DEEPMD INFO    Energy RMSE        : 6.153924e-02 eV
DEEPMD INFO    Energy RMSE/Natoms : 3.205169e-04 eV
DEEPMD INFO    Force  RMSE        : 6.468562e-02 eV/A
DEEPMD INFO    Virial RMSE        : 5.267023e+00 eV
DEEPMD INFO    Virial RMSE/Natoms : 2.743241e-02 eV
DEEPMD INFO    # ----------------------------------------------- 
profile : ture
dp model type : ener
OMP: Warning #181: OMP_PROC_BIND: ignored because KMP_AFFINITY has been defined
INFO: You are running LIKWID in a cpuset with 50 CPUs. Taking given IDs as logical ID in cpuset
[1;34m[likwid-pin] Main PID -> hwthread 12 - OK[0m

Top k op
average time	min time	max time	percentage	op name
 9649.00	    9649	    9649	    0.09	load/ProdEnvMatA
 7439.00	    7439	    7439	    0.07	load/filter_type_1/GemmTanhLayer_5
 4022.00	    4022	    4022	    0.04	load/gradients/filter_type_1/GemmTanhLayer_5_grad/MatmulNt
 3727.00	    3727	    3727	    0.04	load/filter_type_0/GemmTanhLayer_5
 3719.00	    3719	    3719	    0.04	load/filter_type_1/GemmTanhLayer_2
 3587.00	    3587	    3587	    0.03	load/gradients/layer_0_type_1/GemmTanhLayer_grad/MatmulNt
 2995.00	    2995	    2995	    0.03	load/layer_0_type_1/GemmTanhLayer
 2906.00	    2906	    2906	    0.03	load/filter_type_1/GemmTanhLayer_4
 2172.00	    2172	    2172	    0.02	load/gradients/layer_0_type_0/GemmTanhLayer_grad/MatmulNt
 2146.00	    2146	    2146	    0.02	load/gradients/filter_type_1/MatMul_1_grad/MatMul
 2044.00	    2044	    2044	    0.02	load/gradients/filter_type_0/GemmTanhLayer_5_grad/MatmulNt
 2039.00	    2039	    2039	    0.02	load/gradients/filter_type_1/GemmTanhLayer_2_grad/MatmulNt
 1871.00	    1871	    1871	    0.02	load/ProdVirialSeA
 1849.00	    1849	    1849	    0.02	load/filter_type_0/GemmTanhLayer_2
 1656.00	    1656	    1656	    0.02	load/layer_0_type_0/GemmTanhLayer
 1446.00	    1446	    1446	    0.01	load/filter_type_0/GemmTanhLayer_4
 1441.00	    1441	    1441	    0.01	load/gradients/filter_type_1/concat_3_grad/Slice
 1440.00	    1440	    1440	    0.01	load/gradients/filter_type_1/concat_3_grad/Slice_1
 1437.00	    1437	    1437	    0.01	load/filter_type_1/GemmTanhLayer_1
 1243.00	    1243	    1243	    0.01	load/filter_type_1/add_3
 1240.00	    1240	    1240	    0.01	load/gradients/filter_type_1/MatMul_grad/MatMul
 1179.00	    1179	    1179	    0.01	load/filter_type_1/GemmTanhLayer_3
 1173.00	    1173	    1173	    0.01	load/gradients/filter_type_1/MatMul_1_grad/MatMul_1
 1113.00	    1113	    1113	    0.01	load/filter_type_1/MatMul_1
 1066.00	    1066	    1066	    0.01	load/gradients/filter_type_0/MatMul_1_grad/MatMul
 1054.00	    1054	    1054	    0.01	load/filter_type_1/concat_3
 1031.00	    1031	    1031	    0.01	load/gradients/filter_type_0/GemmTanhLayer_2_grad/MatmulNt
 1021.00	    1021	    1021	    0.01	load/gradients/filter_type_1/GemmTanhLayer_4_grad/MatmulNt
 1014.00	    1014	    1014	    0.01	load/gradients/filter_type_1/concat_2_grad/Slice_1
  841.00	     841	     841	    0.01	load/ProdForceSeA
  829.00	     829	     829	    0.01	load/filter_type_1/MatMul_2
  804.00	     804	     804	    0.01	load/gradients/AddN_10
  732.00	     732	     732	    0.01	load/filter_type_0/GemmTanhLayer_1
  726.00	     726	     726	    0.01	load/gradients/filter_type_1/concat_1_grad/Slice
  726.00	     726	     726	    0.01	load/gradients/filter_type_0/concat_3_grad/Slice
  647.00	     647	     647	    0.01	load/gradients/filter_type_0/MatMul_grad/MatMul
  645.00	     645	     645	    0.01	load/filter_type_1/MatMul
  637.00	     637	     637	    0.01	load/filter_type_0/add_3
  630.00	     630	     630	    0.01	load/gradients/filter_type_1/MatMul_grad/MatMul_1
  628.00	     628	     628	    0.01	load/filter_type_1/add_2
  628.00	     628	     628	    0.01	load/filter_type_1/add_1
  606.00	     606	     606	    0.01	load/gradients/filter_type_1/MatMul_2_grad/MatMul
  592.00	     592	     592	    0.01	load/filter_type_0/GemmTanhLayer_3
  582.00	     582	     582	    0.01	load/filter_type_1/concat_2
  579.00	     579	     579	    0.01	load/gradients/filter_type_1/concat_1_grad/Slice_1
  574.00	     574	     574	    0.01	load/filter_type_1/GemmTanhLayer
  572.00	     572	     572	    0.01	load/filter_type_1/concat_1
  569.00	     569	     569	    0.01	load/filter_type_0/concat_3
  569.00	     569	     569	    0.01	load/filter_type_0/MatMul_1
  567.00	     567	     567	    0.01	load/gradients/filter_type_1/concat_2_grad/Slice
  567.00	     567	     567	    0.01	load/gradients/filter_type_0/concat_3_grad/Slice_1
  500.00	     500	     500	    0.00	load/gradients/filter_type_0/GemmTanhLayer_4_grad/MatmulNt
  498.00	     498	     498	    0.00	load/gradients/filter_type_1/GemmTanhLayer_1_grad/MatmulNt
  460.00	     460	     460	    0.00	load/gradients/filter_type_0/MatMul_1_grad/MatMul_1
  430.00	     430	     430	    0.00	load/gradients/AddN_9
  429.00	     429	     429	    0.00	load/filter_type_0/MatMul_2
  418.00	     418	     418	    0.00	load/layer_1_type_1/GemmTanhLayer
  409.00	     409	     409	    0.00	load/layer_2_type_1/GemmTanhLayer
  409.00	     409	     409	    0.00	load/gradients/AddN_8
  407.00	     407	     407	    0.00	load/gradients/AddN_14
  402.00	     402	     402	    0.00	load/gradients/filter_type_1/GemmTanhLayer_3_grad/MatmulNt
  398.00	     398	     398	    0.00	load/gradients/layer_2_type_1/GemmTanhLayer_grad/MatmulNt
  395.00	     395	     395	    0.00	load/gradients/layer_1_type_1/GemmTanhLayer_grad/MatmulNt
  337.00	     337	     337	    0.00	load/concat
  335.00	     335	     335	    0.00	load/filter_type_0/MatMul
  326.00	     326	     326	    0.00	load/gradients/filter_type_1/GemmTanhLayer_3_grad/mul
  317.00	     317	     317	    0.00	load/gradients/AddN_4
  314.00	     314	     314	    0.00	load/gradients/filter_type_0/GemmTanhLayer_2_grad/mul
  313.00	     313	     313	    0.00	load/gradients/filter_type_1/concat_grad/Slice_1
  310.00	     310	     310	    0.00	load/filter_type_0/add_2
  308.00	     308	     308	    0.00	load/filter_type_1/add
  303.00	     303	     303	    0.00	load/filter_type_0/add_1
  303.00	     303	     303	    0.00	load/filter_type_1/concat
  303.00	     303	     303	    0.00	load/gradients/filter_type_0/MatMul_2_grad/MatMul
  301.00	     301	     301	    0.00	load/filter_type_0/GemmTanhLayer
  282.00	     282	     282	    0.00	load/filter_type_0/concat_2
  280.00	     280	     280	    0.00	load/gradients/layer_2_type_0/GemmTanhLayer_grad/MatmulNt
  277.00	     277	     277	    0.00	load/gradients/filter_type_0/concat_2_grad/Slice_1
  265.00	     265	     265	    0.00	load/gradients/filter_type_1/Slice_3_grad/Pad
  260.00	     260	     260	    0.00	load/filter_type_0/concat_1
  259.00	     259	     259	    0.00	load/gradients/Slice_3_grad/Pad
  258.00	     258	     258	    0.00	load/gradients/filter_type_0/GemmTanhLayer_1_grad/MatmulNt
  257.00	     257	     257	    0.00	load/gradients/layer_1_type_0/GemmTanhLayer_grad/MatmulNt
  245.00	     245	     245	    0.00	load/gradients/filter_type_1/concat_grad/Slice
  242.00	     242	     242	    0.00	load/gradients/filter_type_0/MatMul_grad/MatMul_1
  238.00	     238	     238	    0.00	load/layer_1_type_0/GemmTanhLayer
  236.00	     236	     236	    0.00	load/layer_2_type_0/GemmTanhLayer
  231.00	     231	     231	    0.00	load/gradients/Slice_2_grad/Pad
  226.00	     226	     226	    0.00	load/gradients/concat_grad/Slice_1
  223.00	     223	     223	    0.00	load/Slice_3
  218.00	     218	     218	    0.00	load/gradients/filter_type_0/GemmTanhLayer_2_grad/sub
  211.00	     211	     211	    0.00	load/gradients/filter_type_1/MatMul_2_grad/MatMul_1
  211.00	     211	     211	    0.00	load/gradients/filter_type_0/GemmTanhLayer_3_grad/MatmulNt
  211.00	     211	     211	    0.00	load/gradients/filter_type_1/GemmTanhLayer_grad/MatmulNt
  205.00	     205	     205	    0.00	load/gradients/AddN_7
  204.00	     204	     204	    0.00	load/gradients/filter_type_0/concat_2_grad/Slice
  198.00	     198	     198	    0.00	load/gradients/AddN_12
  198.00	     198	     198	    0.00	load/gradients/AddN_13
  170.00	     170	     170	    0.00	load/filter_type_1/Slice_3
  169.00	     169	     169	    0.00	load/gradients/filter_type_0/concat_1_grad/Slice

Top k op type
average time	percentage	op type
31853.00	    0.31	GemmTanhLayer
19501.00	    0.19	MatmulNt
12761.00	    0.12	MatMul
10134.00	    0.10	Slice
 9649.00	    0.09	ProdEnvMatA
 4385.00	    0.04	add
 4244.00	    0.04	concat
 3523.00	    0.03	AddN
 1871.00	    0.02	ProdVirialSeA
 1507.00	    0.01	Pad
 1461.00	    0.01	mul
  841.00	    0.01	ProdForceSeA
  370.00	    0.00	sub
  305.00	    0.00	Shape
  257.00	    0.00	Mul
  228.00	    0.00	Reshape
  200.00	    0.00	strided
  101.00	    0.00	Square
  100.00	    0.00	Sum
   88.00	    0.00	BroadcastGradientArgs
